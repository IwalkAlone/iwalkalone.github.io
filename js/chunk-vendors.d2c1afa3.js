(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"04d1":function(e,t,n){var r=n("342f"),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),c=n("c04e"),a=n("5135"),l=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=c(t,!0),l)try{return u(e,t)}catch(n){}if(a(e,t))return o(!i.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"107c":function(e,t,n){var r=n("d039");e.exports=r((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,c={next:function(){return{done:!!s++}},return:function(){o=!0}};c[i]=function(){return this},Array.from(c,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(a){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),c=n("35a1"),a=n("2a62"),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,h,d,f,p,_,g,m=n&&n.that,v=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),w=s(t,m,1+v+b),C=function(e){return u&&a(u),new l(!0,e)},O=function(e){return v?(r(e),b?w(e[0],e[1],C):w(e[0],e[1])):b?w(e,C):w(e)};if(y)u=e;else{if(h=c(e),"function"!=typeof h)throw TypeError("Target is not iterable");if(i(h)){for(d=0,f=o(e.length);f>d;d++)if(p=O(e[d]),p&&p instanceof l)return p;return new l(!1)}u=h.call(e)}_=u.next;while(!(g=_.call(u)).done){try{p=O(g.value)}catch(x){throw a(u),x}if("object"==typeof p&&p&&p instanceof l)return p}return new l(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),c=n("ce4e"),a=n("e893"),l=n("94ca");e.exports=function(e,t){var n,u,h,d,f,p,_=e.target,g=e.global,m=e.stat;if(u=g?r:m?r[_]||c(_,{}):(r[_]||{}).prototype,u)for(h in t){if(f=t[h],e.noTargetGet?(p=i(u,h),d=p&&p.value):d=u[h],n=l(g?h:_+(m?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f===typeof d)continue;a(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(u,h,f,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"260b":function(e,t,n){"use strict";var r=n("5606");n.d(t,"a",(function(){return r["e"]}));var i="firebase-exp",o="9.0.0-beta.7";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object(r["f"])(i,o,"app")},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),c=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[c]&&n(t,c,{configurable:!0,get:function(){return this}})}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),c=n("d039"),a=n("0366"),l=n("1be4"),u=n("cc12"),h=n("1cdc"),d=n("605d"),f=s.location,p=s.setImmediate,_=s.clearImmediate,g=s.process,m=s.MessageChannel,v=s.Dispatch,y=0,b={},w="onreadystatechange",C=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},O=function(e){return function(){C(e)}},x=function(e){C(e.data)},E=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};p&&_||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},_=function(e){delete b[e]},d?r=function(e){g.nextTick(O(e))}:v&&v.now?r=function(e){v.now(O(e))}:m&&!h?(i=new m,o=i.port2,i.port1.onmessage=x,r=a(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&f&&"file:"!==f.protocol&&!c(E)?(r=E,s.addEventListener("message",x,!1)):r=w in u("script")?function(e){l.appendChild(u("script"))[w]=function(){l.removeChild(this),C(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:p,clear:_}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),c=o.process,a=c&&c.versions,l=a&&a.v8;l?(r=l.split("."),i=r[0]<4?1:r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),c=r.length,a=0;while(c>a)i.f(e,n=r[a++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3f8c":function(e,t){e.exports={}},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),c=Array.prototype;void 0==c[s]&&o.f(c,s,{configurable:!0,value:i(null)}),e.exports=function(e){c[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},4930:function(e,t,n){var r=n("2d00"),i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var c,a=r(t),l=i(a.length),u=o(s,l);if(e&&n!=n){while(l>u)if(c=a[u++],c!=c)return!0}else for(;l>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=o("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,n){"use strict";var r=n("23e7"),i=n("1c0b"),o=n("7b0b"),s=n("50c4"),c=n("d039"),a=n("addb"),l=n("a640"),u=n("04d1"),h=n("d998"),d=n("2d00"),f=n("512c"),p=[],_=p.sort,g=c((function(){p.sort(void 0)})),m=c((function(){p.sort(null)})),v=l("sort"),y=!c((function(){if(d)return d<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)p.push({k:t+r,v:n})}for(p.sort((function(e,t){return t.v-e.v})),r=0;r<p.length;r++)t=p[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),b=g||!m||!v||!y,w=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:String(t)>String(n)?1:-1}};r({target:"Array",proto:!0,forced:b},{sort:function(e){void 0!==e&&i(e);var t=o(this);if(y)return void 0===e?_.call(t):_.call(t,e);var n,r,c=[],l=s(t.length);for(r=0;r<l;r++)r in t&&c.push(t[r]);c=a(c,w(e)),n=c.length,r=0;while(r<n)t[r]=c[r++];while(r<l)delete t[r++];return t}})},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"512c":function(e,t,n){var r=n("342f"),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},5135:function(e,t,n){var r=n("7b0b"),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},5606:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return Y})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return K}));var r=n("ffa6"),i=n("abfd"),o=n("a8e9");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class s{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(c(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}function c(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const a="@firebase/app-exp",l="0.0.900-exp.6ef484a04",u=new i["b"]("@firebase/app"),h="@firebase/app-compat",d="@firebase/analytics-compat",f="@firebase/analytics-exp",p="@firebase/app-check-compat",_="@firebase/app-check-exp",g="@firebase/auth-exp",m="@firebase/auth-compat",v="@firebase/database",y="@firebase/database-compat",b="@firebase/functions-exp",w="@firebase/functions-compat",C="@firebase/installations-exp",O="@firebase/installations-compat",x="@firebase/messaging-exp",E="@firebase/messaging-compat",S="@firebase/performance-exp",j="@firebase/performance-compat",I="@firebase/remote-config-exp",T="@firebase/remote-config-compat",k="@firebase/storage",N="@firebase/storage-compat",P="@firebase/firestore",R="@firebase/firestore-compat",A="firebase-exp",M="9.0.0-beta.7",L="[DEFAULT]",F={[a]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[d]:"fire-analytics-compat",[_]:"fire-app-check",[p]:"fire-app-check-compat",[g]:"fire-auth",[m]:"fire-auth-compat",[v]:"fire-rtdb",[y]:"fire-rtdb-compat",[b]:"fire-fn",[w]:"fire-fn-compat",[C]:"fire-iid",[O]:"fire-iid-compat",[x]:"fire-fcm",[E]:"fire-fcm-compat",[S]:"fire-perf",[j]:"fire-perf-compat",[I]:"fire-rc",[T]:"fire-rc-compat",[k]:"fire-gcs",[N]:"fire-gcs-compat",[P]:"fire-fst",[R]:"fire-fst-compat","fire-js":"fire-js",[A]:"fire-js-all"},D=new Map,q=new Map;function U(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function W(e){const t=e.name;if(q.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;q.set(t,e);for(const n of D.values())U(n,e);return!0}function B(e,t){return e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const z={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},V=new o["b"]("app","Firebase",z);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class H{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r["a"]("app-exp",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw V.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=M;function G(e,t={}){if("object"!==typeof t){const e=t;t={name:e}}const n=Object.assign({name:L,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!==typeof i||!i)throw V.create("bad-app-name",{appName:String(i)});if(D.has(i))throw V.create("duplicate-app",{appName:i});const o=new r["b"](i);for(const r of q.values())o.addComponent(r);const s=new H(e,n,o);return D.set(i,s),s}function Y(e=L){const t=D.get(e);if(!t)throw V.create("no-app",{appName:e});return t}function K(e,t,n){var i;let o=null!==(i=F[e])&&void 0!==i?i:e;n&&(o+="-"+n);const s=o.match(/\s|\//),c=t.match(/\s|\//);if(s||c){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&c&&e.push("and"),c&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}W(new r["a"](o+"-version",()=>({library:o,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(e){W(new r["a"]("platform-logger",e=>new s(e),"PRIVATE")),K(a,l,e),K("fire-js","")}Q()},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},6062:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===p(e)}const i=1/0;function o(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-i?"-0":t}function s(e){return null==e?"":o(e)}function c(e){return"string"===typeof e}function a(e){return"number"===typeof e}function l(e){return!0===e||!1===e||h(e)&&"[object Boolean]"==p(e)}function u(e){return"object"===typeof e}function h(e){return u(e)&&null!==e}function d(e){return void 0!==e&&null!==e}function f(e){return!e.trim().length}function p(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const _="Incorrect 'index' type",g=e=>"Invalid value for key "+e,m=e=>`Pattern length exceeds max of ${e}.`,v=e=>`Missing ${e} property in key`,y=e=>`Property 'weight' in key '${e}' must be a positive integer`,b=Object.prototype.hasOwnProperty;class w{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=C(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function C(e){let t=null,n=null,i=null,o=1;if(c(e)||r(e))i=e,t=O(e),n=x(e);else{if(!b.call(e,"name"))throw new Error(v("name"));const r=e.name;if(i=r,b.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(y(r));t=O(r),n=x(r)}return{path:t,id:n,weight:o,src:i}}function O(e){return r(e)?e:e.split(".")}function x(e){return r(e)?e.join("."):e}function E(e,t){let n=[],i=!1;const o=(e,t,u)=>{if(d(e))if(t[u]){let h=t[u];const f=e[h];if(!d(f))return;if(u===t.length-1&&(c(f)||a(f)||l(f)))n.push(s(f));else if(r(f)){i=!0;for(let e=0,n=f.length;e<n;e+=1)o(f[e],t,u+1)}else t.length&&o(f,t,u+1)}else n.push(e)};return o(e,c(t)?t.split("."):t,0),i?n:n[0]}const S={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},j={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},I={location:0,threshold:.6,distance:100},T={useExtendedSearch:!1,getFn:E,ignoreLocation:!1,ignoreFieldNorm:!1};var k={...j,...S,...I,...T};const N=/[^ ]+/g;function P(e=3){const t=new Map,n=Math.pow(10,e);return{get(e){const r=e.match(N).length;if(t.has(r))return t.get(r);const i=1/Math.sqrt(r),o=parseFloat(Math.round(i*n)/n);return t.set(r,o),o},clear(){t.clear()}}}class R{constructor({getFn:e=k.getFn}={}){this.norm=P(3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,c(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();c(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!d(e)||f(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,i)=>{let o=this.getFn(e,t.path);if(d(o))if(r(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];while(t.length){const{nestedArrIndex:n,value:i}=t.pop();if(d(i))if(c(i)&&!f(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else r(i)&&i.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[i]=e}else if(!f(o)){let e={v:o,n:this.norm.get(o)};n.$[i]=e}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function A(e,t,{getFn:n=k.getFn}={}){const r=new R({getFn:n});return r.setKeys(e.map(C)),r.setSources(t),r.create(),r}function M(e,{getFn:t=k.getFn}={}){const{keys:n,records:r}=e,i=new R({getFn:t});return i.setKeys(n),i.setIndexRecords(r),i}function L(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=k.distance,ignoreLocation:o=k.ignoreLocation}={}){const s=t/e.length;if(o)return s;const c=Math.abs(r-n);return i?s+c/i:c?1:s}function F(e=[],t=k.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=e.length;o<s;o+=1){let s=e[o];s&&-1===r?r=o:s||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const D=32;function q(e,t,n,{location:r=k.location,distance:i=k.distance,threshold:o=k.threshold,findAllMatches:s=k.findAllMatches,minMatchCharLength:c=k.minMatchCharLength,includeMatches:a=k.includeMatches,ignoreLocation:l=k.ignoreLocation}={}){if(t.length>D)throw new Error(m(D));const u=t.length,h=e.length,d=Math.max(0,Math.min(r,h));let f=o,p=d;const _=c>1||a,g=_?Array(h):[];let v;while((v=e.indexOf(t,p))>-1){let e=L(t,{currentLocation:v,expectedLocation:d,distance:i,ignoreLocation:l});if(f=Math.min(e,f),p=v+u,_){let e=0;while(e<u)g[v+e]=1,e+=1}}p=-1;let y=[],b=1,w=u+h;const C=1<<u-1;for(let m=0;m<u;m+=1){let r=0,o=w;while(r<o){const e=L(t,{errors:m,currentLocation:d+o,expectedLocation:d,distance:i,ignoreLocation:l});e<=f?r=o:w=o,o=Math.floor((w-r)/2+r)}w=o;let c=Math.max(1,d-o+1),a=s?h:Math.min(d+o,h)+u,v=Array(a+2);v[a+1]=(1<<m)-1;for(let s=a;s>=c;s-=1){let r=s-1,o=n[e.charAt(r)];if(_&&(g[r]=+!!o),v[s]=(v[s+1]<<1|1)&o,m&&(v[s]|=(y[s+1]|y[s])<<1|1|y[s+1]),v[s]&C&&(b=L(t,{errors:m,currentLocation:r,expectedLocation:d,distance:i,ignoreLocation:l}),b<=f)){if(f=b,p=r,p<=d)break;c=Math.max(1,2*d-p)}}const O=L(t,{errors:m+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:l});if(O>f)break;y=v}const O={isMatch:p>=0,score:Math.max(.001,b)};if(_){const e=F(g,c);e.length?a&&(O.indices=e):O.isMatch=!1}return O}function U(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class W{constructor(e,{location:t=k.location,threshold:n=k.threshold,distance:r=k.distance,includeMatches:i=k.includeMatches,findAllMatches:o=k.findAllMatches,minMatchCharLength:s=k.minMatchCharLength,isCaseSensitive:c=k.isCaseSensitive,ignoreLocation:a=k.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:a},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(e,t)=>{this.chunks.push({pattern:e,alphabet:U(e),startIndex:t})},u=this.pattern.length;if(u>D){let e=0;const t=u%D,n=u-t;while(e<n)l(this.pattern.substr(e,D),e),e+=D;if(t){const e=u-D;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:c,ignoreLocation:a}=this.options;let l=[],u=0,h=!1;this.chunks.forEach(({pattern:t,alphabet:d,startIndex:f})=>{const{isMatch:p,score:_,indices:g}=q(e,t,d,{location:r+f,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:c,includeMatches:n,ignoreLocation:a});p&&(h=!0),u+=_,p&&g&&(l=[...l,...g])});let d={isMatch:h,score:h?u/this.chunks.length:1};return h&&n&&(d.indices=l),d}}class B{constructor(e){this.pattern=e}static isMultiMatch(e){return z(e,this.multiRegex)}static isSingleMatch(e){return z(e,this.singleRegex)}search(){}}function z(e,t){const n=e.match(t);return n?n[1]:null}class V extends B{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class H extends B{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=e.indexOf(this.pattern),n=-1===t;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class $ extends B{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class G extends B{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Y extends B{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class K extends B{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Q extends B{constructor(e,{location:t=k.location,threshold:n=k.threshold,distance:r=k.distance,includeMatches:i=k.includeMatches,findAllMatches:o=k.findAllMatches,minMatchCharLength:s=k.minMatchCharLength,isCaseSensitive:c=k.isCaseSensitive,ignoreLocation:a=k.ignoreLocation}={}){super(e),this._bitapSearch=new W(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class J extends B{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;while((t=e.indexOf(this.pattern,n))>-1)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const X=[V,J,$,G,K,Y,H,Q],Z=X.length,ee=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,te="|";function ne(e,t={}){return e.split(te).map(e=>{let n=e.trim().split(ee).filter(e=>e&&!!e.trim()),r=[];for(let i=0,o=n.length;i<o;i+=1){const e=n[i];let o=!1,s=-1;while(!o&&++s<Z){const n=X[s];let i=n.isMultiMatch(e);i&&(r.push(new n(i,t)),o=!0)}if(!o){s=-1;while(++s<Z){const n=X[s];let i=n.isSingleMatch(e);if(i){r.push(new n(i,t));break}}}}return r})}const re=new Set([Q.type,J.type]);class ie{constructor(e,{isCaseSensitive:t=k.isCaseSensitive,includeMatches:n=k.includeMatches,minMatchCharLength:r=k.minMatchCharLength,ignoreLocation:i=k.ignoreLocation,findAllMatches:o=k.findAllMatches,location:s=k.location,threshold:c=k.threshold,distance:a=k.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:s,threshold:c,distance:a},this.pattern=t?e:e.toLowerCase(),this.query=ne(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],s=0;for(let c=0,a=t.length;c<a;c+=1){const r=t[c];o.length=0,i=0;for(let t=0,c=r.length;t<c;t+=1){const c=r[t],{isMatch:a,indices:l,score:u}=c.search(e);if(!a){s=0,i=0,o.length=0;break}if(i+=1,s+=u,n){const e=c.constructor.type;re.has(e)?o=[...o,...l]:o.push(l)}}if(i){let e={isMatch:!0,score:s/i};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}}const oe=[];function se(...e){oe.push(...e)}function ce(e,t){for(let n=0,r=oe.length;n<r;n+=1){let r=oe[n];if(r.condition(e,t))return new r(e,t)}return new W(e,t)}const ae={AND:"$and",OR:"$or"},le={PATH:"$path",PATTERN:"$val"},ue=e=>!(!e[ae.AND]&&!e[ae.OR]),he=e=>!!e[le.PATH],de=e=>!r(e)&&u(e)&&!ue(e),fe=e=>({[ae.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function pe(e,t,{auto:n=!0}={}){const i=e=>{let o=Object.keys(e);const s=he(e);if(!s&&o.length>1&&!ue(e))return i(fe(e));if(de(e)){const r=s?e[le.PATH]:o[0],i=s?e[le.PATTERN]:e[r];if(!c(i))throw new Error(g(r));const a={keyId:x(r),pattern:i};return n&&(a.searcher=ce(i,t)),a}let a={children:[],operator:o[0]};return o.forEach(t=>{const n=e[t];r(n)&&n.forEach(e=>{a.children.push(i(e))})}),a};return ue(e)||(e=fe(e)),i(e)}function _e(e,{ignoreFieldNorm:t=k.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))}),e.score=n})}function ge(e,t){const n=e.matches;t.matches=[],d(n)&&n.forEach(e=>{if(!d(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function me(e,t){t.score=e.score}function ve(e,t,{includeMatches:n=k.includeMatches,includeScore:r=k.includeScore}={}){const i=[];return n&&i.push(ge),r&&i.push(me),e.map(e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}class ye{constructor(e,t={},n){this.options={...k,...t},this.options.useExtendedSearch,this._keyStore=new w(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof R))throw new Error(_);this._myIndex=t||A(this.options.keys,this._docs,{getFn:this.options.getFn})}add(e){d(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let l=c(e)?c(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return _e(l,{ignoreFieldNorm:s}),i&&l.sort(o),a(t)&&t>-1&&(l=l.slice(0,t)),ve(l,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=ce(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!d(e))return;const{isMatch:o,score:s,indices:c}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:s,value:e,norm:i,indices:c}]})}),r}_searchLogical(e){const t=pe(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}switch(e.operator){case ae.AND:{const i=[];for(let o=0,s=e.children.length;o<s;o+=1){const s=e.children[o],c=n(s,t,r);if(!c.length)return[];i.push(...c)}return i}case ae.OR:{const i=[];for(let o=0,s=e.children.length;o<s;o+=1){const s=e.children[o],c=n(s,t,r);if(c.length){i.push(...c);break}}return i}}},r=this._myIndex.records,i={},o=[];return r.forEach(({$:e,i:r})=>{if(d(e)){let s=n(t,e,r);s.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),s.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),o}_searchObjectList(e){const t=ce(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!d(e))return;let o=[];n.forEach((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),o.length&&i.push({idx:r,item:e,matches:o})}),i}_findMatches({key:e,value:t,searcher:n}){if(!d(t))return[];let i=[];if(r(t))t.forEach(({v:t,i:r,n:o})=>{if(!d(t))return;const{isMatch:s,score:c,indices:a}=n.searchIn(t);s&&i.push({score:c,key:e,value:t,idx:r,norm:o,indices:a})});else{const{v:r,n:o}=t,{isMatch:s,score:c,indices:a}=n.searchIn(r);s&&i.push({score:c,key:e,value:r,norm:o,indices:a})}return i}}ye.version="6.4.6",ye.createIndex=A,ye.parseIndex=M,ye.config=k,ye.parseQuery=pe,se(ie),t["a"]=ye},6069:function(e,t){e.exports="object"==typeof window},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),c=n("d1e7"),a=n("7b0b"),l=n("44ad"),u=Object.assign,h=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||o(u({},t)).join("")!=i}))?function(e,t){var n=a(e),i=arguments.length,u=1,h=s.f,d=c.f;while(i>u){var f,p=l(arguments[u++]),_=h?o(p).concat(h(p)):o(p),g=_.length,m=0;while(g>m)f=_[m++],r&&!d.call(p,f)||(n[f]=p[f])}return n}:u},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"66ce":function(e,t,n){"use strict";var r=n("87b8");n.d(t,"a",(function(){return r["a"]})),n.d(t,"b",(function(){return r["b"]})),n.d(t,"c",(function(){return r["c"]})),n.d(t,"d",(function(){return r["d"]}))},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),c=n("da84"),a=n("861d"),l=n("9112"),u=n("5135"),h=n("c6cd"),d=n("f772"),f=n("d012"),p="Object already initialized",_=c.WeakMap,g=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!a(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var v=h.state||(h.state=new _),y=v.get,b=v.has,w=v.set;r=function(e,t){if(b.call(v,e))throw new TypeError(p);return t.facade=e,w.call(v,e,t),t},i=function(e){return y.call(v,e)||{}},o=function(e){return b.call(v,e)}}else{var C=d("state");f[C]=!0,r=function(e,t){if(u(e,C))throw new TypeError(p);return t.facade=e,l(e,C,t),t},i=function(e){return u(e,C)?e[C]:{}},o=function(e){return u(e,C)}}e.exports={set:r,get:i,has:o,enforce:g,getterFor:m}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),c=n("8925"),a=n("69f3"),l=a.get,u=a.enforce,h=String(String).split("String");(e.exports=function(e,t,n,c){var a,l=!!c&&!!c.unsafe,d=!!c&&!!c.enumerable,f=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),a=u(n),a.source||(a.source=h.join("string"==typeof t?t:""))),e!==r?(l?!f&&e[t]&&(d=!0):delete e[t],d?e[t]=n:i(e,t,n)):d?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||c(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a23":function(e,t,n){"use strict";n.d(t,"l",(function(){return r["J"]})),n.d(t,"a",(function(){return ir})),n.d(t,"c",(function(){return pr})),n.d(t,"d",(function(){return xr})),n.d(t,"e",(function(){return Or})),n.d(t,"f",(function(){return br})),n.d(t,"g",(function(){return ur})),n.d(t,"h",(function(){return ht})),n.d(t,"i",(function(){return ut})),n.d(t,"j",(function(){return Tr})),n.d(t,"k",(function(){return er})),n.d(t,"n",(function(){return Dn})),n.d(t,"o",(function(){return dt})),n.d(t,"b",(function(){return io})),n.d(t,"m",(function(){return eo}));var r=n("9ff4");const i=new WeakMap,o=[];let s;const c=Symbol(""),a=Symbol("");function l(e){return e&&!0===e._isEffect}function u(e,t=r["b"]){l(e)&&(e=e.raw);const n=f(e,t);return t.lazy||n(),n}function h(e){e.active&&(p(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let d=0;function f(e,t){const n=function(){if(!n.active)return e();if(!o.includes(n)){p(n);try{return v(),o.push(n),s=n,e()}finally{o.pop(),y(),s=o[o.length-1]}}};return n.id=d++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function p(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let _=!0;const g=[];function m(){g.push(_),_=!1}function v(){g.push(_),_=!0}function y(){const e=g.pop();_=void 0===e||e}function b(e,t,n){if(!_||void 0===s)return;let r=i.get(e);r||i.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(s)||(o.add(s),s.deps.push(o))}function w(e,t,n,o,l,u){const h=i.get(e);if(!h)return;const d=new Set,f=e=>{e&&e.forEach(e=>{(e!==s||e.allowRecurse)&&d.add(e)})};if("clear"===t)h.forEach(f);else if("length"===n&&Object(r["m"])(e))h.forEach((e,t)=>{("length"===t||t>=o)&&f(e)});else switch(void 0!==n&&f(h.get(n)),t){case"add":Object(r["m"])(e)?Object(r["q"])(n)&&f(h.get("length")):(f(h.get(c)),Object(r["r"])(e)&&f(h.get(a)));break;case"delete":Object(r["m"])(e)||(f(h.get(c)),Object(r["r"])(e)&&f(h.get(a)));break;case"set":Object(r["r"])(e)&&f(h.get(c));break}const p=e=>{e.options.scheduler?e.options.scheduler(e):e()};d.forEach(p)}const C=Object(r["F"])("__proto__,__v_isRef,__isVue"),O=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(r["C"])),x=T(),E=T(!1,!0),S=T(!0),j=I();function I(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){const n=we(this);for(let t=0,i=this.length;t<i;t++)b(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(we)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){m();const n=we(this)[t].apply(this,e);return y(),n}}),e}function T(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&o===(e?t?he:ue:t?le:ae).get(n))return n;const s=Object(r["m"])(n);if(!e&&s&&Object(r["j"])(j,i))return Reflect.get(j,i,o);const c=Reflect.get(n,i,o);if(Object(r["C"])(i)?O.has(i):C(i))return c;if(e||b(n,"get",i),t)return c;if(Oe(c)){const e=!s||!Object(r["q"])(i);return e?c.value:c}return Object(r["t"])(c)?e?ge(c):pe(c):c}}const k=P(),N=P(!0);function P(e=!1){return function(t,n,i,o){let s=t[n];if(!e&&(i=we(i),s=we(s),!Object(r["m"])(t)&&Oe(s)&&!Oe(i)))return s.value=i,!0;const c=Object(r["m"])(t)&&Object(r["q"])(n)?Number(n)<t.length:Object(r["j"])(t,n),a=Reflect.set(t,n,i,o);return t===we(o)&&(c?Object(r["i"])(i,s)&&w(t,"set",n,i,s):w(t,"add",n,i)),a}}function R(e,t){const n=Object(r["j"])(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&w(e,"delete",t,void 0,i),o}function A(e,t){const n=Reflect.has(e,t);return Object(r["C"])(t)&&O.has(t)||b(e,"has",t),n}function M(e){return b(e,"iterate",Object(r["m"])(e)?"length":c),Reflect.ownKeys(e)}const L={get:x,set:k,deleteProperty:R,has:A,ownKeys:M},F={get:S,set(e,t){return!0},deleteProperty(e,t){return!0}},D=Object(r["h"])({},L,{get:E,set:N}),q=e=>Object(r["t"])(e)?pe(e):e,U=e=>Object(r["t"])(e)?ge(e):e,W=e=>e,B=e=>Reflect.getPrototypeOf(e);function z(e,t,n=!1,r=!1){e=e["__v_raw"];const i=we(e),o=we(t);t!==o&&!n&&b(i,"get",t),!n&&b(i,"get",o);const{has:s}=B(i),c=r?W:n?U:q;return s.call(i,t)?c(e.get(t)):s.call(i,o)?c(e.get(o)):void(e!==i&&e.get(t))}function V(e,t=!1){const n=this["__v_raw"],r=we(n),i=we(e);return e!==i&&!t&&b(r,"has",e),!t&&b(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function H(e,t=!1){return e=e["__v_raw"],!t&&b(we(e),"iterate",c),Reflect.get(e,"size",e)}function $(e){e=we(e);const t=we(this),n=B(t),r=n.has.call(t,e);return r||(t.add(e),w(t,"add",e,e)),this}function G(e,t){t=we(t);const n=we(this),{has:i,get:o}=B(n);let s=i.call(n,e);s||(e=we(e),s=i.call(n,e));const c=o.call(n,e);return n.set(e,t),s?Object(r["i"])(t,c)&&w(n,"set",e,t,c):w(n,"add",e,t),this}function Y(e){const t=we(this),{has:n,get:r}=B(t);let i=n.call(t,e);i||(e=we(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&w(t,"delete",e,void 0,o),s}function K(){const e=we(this),t=0!==e.size,n=void 0,r=e.clear();return t&&w(e,"clear",void 0,void 0,n),r}function Q(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=we(o),a=t?W:e?U:q;return!e&&b(s,"iterate",c),o.forEach((e,t)=>n.call(r,a(e),a(t),i))}}function J(e,t,n){return function(...i){const o=this["__v_raw"],s=we(o),l=Object(r["r"])(s),u="entries"===e||e===Symbol.iterator&&l,h="keys"===e&&l,d=o[e](...i),f=n?W:t?U:q;return!t&&b(s,"iterate",h?a:c),{next(){const{value:e,done:t}=d.next();return t?{value:e,done:t}:{value:u?[f(e[0]),f(e[1])]:f(e),done:t}},[Symbol.iterator](){return this}}}}function X(e){return function(...t){return"delete"!==e&&this}}function Z(){const e={get(e){return z(this,e)},get size(){return H(this)},has:V,add:$,set:G,delete:Y,clear:K,forEach:Q(!1,!1)},t={get(e){return z(this,e,!1,!0)},get size(){return H(this)},has:V,add:$,set:G,delete:Y,clear:K,forEach:Q(!1,!0)},n={get(e){return z(this,e,!0)},get size(){return H(this,!0)},has(e){return V.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:Q(!0,!1)},r={get(e){return z(this,e,!0,!0)},get size(){return H(this,!0)},has(e){return V.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:Q(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach(i=>{e[i]=J(i,!1,!1),n[i]=J(i,!0,!1),t[i]=J(i,!1,!0),r[i]=J(i,!0,!0)}),[e,n,t,r]}const[ee,te,ne,re]=Z();function ie(e,t){const n=t?e?re:ne:e?te:ee;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(Object(r["j"])(n,i)&&i in t?n:t,i,o)}const oe={get:ie(!1,!1)},se={get:ie(!1,!0)},ce={get:ie(!0,!1)};const ae=new WeakMap,le=new WeakMap,ue=new WeakMap,he=new WeakMap;function de(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fe(e){return e["__v_skip"]||!Object.isExtensible(e)?0:de(Object(r["M"])(e))}function pe(e){return e&&e["__v_isReadonly"]?e:me(e,!1,L,oe,ae)}function _e(e){return me(e,!1,D,se,le)}function ge(e){return me(e,!0,F,ce,ue)}function me(e,t,n,i,o){if(!Object(r["t"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=o.get(e);if(s)return s;const c=fe(e);if(0===c)return e;const a=new Proxy(e,2===c?i:n);return o.set(e,a),a}function ve(e){return ye(e)?ve(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function ye(e){return!(!e||!e["__v_isReadonly"])}function be(e){return ve(e)||ye(e)}function we(e){return e&&we(e["__v_raw"])||e}function Ce(e){return Object(r["g"])(e,"__v_skip",!0),e}function Oe(e){return Boolean(e&&!0===e.__v_isRef)}function xe(e){return Oe(e)?e.value:e}const Ee={get:(e,t,n)=>xe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Oe(i)&&!Oe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Se(e){return ve(e)?e:new Proxy(e,Ee)}class je{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=u(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,w(we(this),"set","value"))}}),this["__v_isReadonly"]=n}get value(){const e=we(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),b(e,"get","value"),e._value}set value(e){this._setter(e)}}function Ie(e){let t,n;return Object(r["n"])(e)?(t=e,n=r["d"]):(t=e.get,n=e.set),new je(t,n,Object(r["n"])(e)||!e.set)}function Te(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){Ne(o,t,n)}return i}function ke(e,t,n,i){if(Object(r["n"])(e)){const o=Te(e,t,n,i);return o&&Object(r["w"])(o)&&o.catch(e=>{Ne(e,t,n)}),o}const o=[];for(let r=0;r<e.length;r++)o.push(ke(e[r],t,n,i));return o}function Ne(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void Te(s,null,10,[e,i,o])}Pe(e,n,i,r)}function Pe(e,t,n,r=!0){console.error(e)}let Re=!1,Ae=!1;const Me=[];let Le=0;const Fe=[];let De=null,qe=0;const Ue=[];let We=null,Be=0;const ze=Promise.resolve();let Ve=null,He=null;function $e(e){const t=Ve||ze;return e?t.then(this?e.bind(this):e):t}function Ge(e){let t=Le+1,n=Me.length;const r=nt(e);while(t<n){const e=t+n>>>1,i=nt(Me[e]);i<r?t=e+1:n=e}return t}function Ye(e){if((!Me.length||!Me.includes(e,Re&&e.allowRecurse?Le+1:Le))&&e!==He){const t=Ge(e);t>-1?Me.splice(t,0,e):Me.push(e),Ke()}}function Ke(){Re||Ae||(Ae=!0,Ve=ze.then(rt))}function Qe(e){const t=Me.indexOf(e);t>Le&&Me.splice(t,1)}function Je(e,t,n,i){Object(r["m"])(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),Ke()}function Xe(e){Je(e,De,Fe,qe)}function Ze(e){Je(e,We,Ue,Be)}function et(e,t=null){if(Fe.length){for(He=t,De=[...new Set(Fe)],Fe.length=0,qe=0;qe<De.length;qe++)De[qe]();De=null,qe=0,He=null,et(e,t)}}function tt(e){if(Ue.length){const e=[...new Set(Ue)];if(Ue.length=0,We)return void We.push(...e);for(We=e,We.sort((e,t)=>nt(e)-nt(t)),Be=0;Be<We.length;Be++)We[Be]();We=null,Be=0}}const nt=e=>null==e.id?1/0:e.id;function rt(e){Ae=!1,Re=!0,et(e),Me.sort((e,t)=>nt(e)-nt(t));try{for(Le=0;Le<Me.length;Le++){const e=Me[Le];e&&!1!==e.active&&Te(e,null,14)}}finally{Le=0,Me.length=0,tt(e),Re=!1,Ve=null,(Me.length||Fe.length||Ue.length)&&rt(e)}}new Set;new Map;Object.create(null),Object.create(null);function it(e,t,...n){const i=e.vnode.props||r["b"];let o=n;const s=t.startsWith("update:"),c=s&&t.slice(7);if(c&&c in i){const e=("modelValue"===c?"model":c)+"Modifiers",{number:t,trim:s}=i[e]||r["b"];s?o=n.map(e=>e.trim()):t&&(o=n.map(r["L"]))}let a;let l=i[a=Object(r["K"])(t)]||i[a=Object(r["K"])(Object(r["e"])(t))];!l&&s&&(l=i[a=Object(r["K"])(Object(r["k"])(t))]),l&&ke(l,e,6,o);const u=i[a+"Once"];if(u){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,ke(u,e,6,o)}}function ot(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(void 0!==o)return o;const s=e.emits;let c={},a=!1;if(!Object(r["n"])(e)){const i=e=>{const n=ot(e,t,!0);n&&(a=!0,Object(r["h"])(c,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||a?(Object(r["m"])(s)?s.forEach(e=>c[e]=null):Object(r["h"])(c,s),i.set(e,c),c):(i.set(e,null),null)}function st(e,t){return!(!e||!Object(r["u"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(r["j"])(e,t[0].toLowerCase()+t.slice(1))||Object(r["j"])(e,Object(r["k"])(t))||Object(r["j"])(e,t))}let ct=null,at=null;function lt(e){const t=ct;return ct=e,at=e&&e.type.__scopeId||null,t}function ut(e){at=e}function ht(){at=null}const dt=e=>ft;function ft(e,t=ct,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&fr(-1);const i=lt(t),o=e(...n);return lt(i),r._d&&fr(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function pt(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[c],slots:a,attrs:l,emit:u,render:h,renderCache:d,data:f,setupState:p,ctx:_,inheritAttrs:g}=e;let m;const v=lt(e);try{let e;if(4&n.shapeFlag){const t=o||i;m=Er(h.call(t,t,d,s,p,f,_)),e=l}else{const n=t;0,m=Er(n.length>1?n(s,{attrs:l,slots:a,emit:u}):n(s,null)),e=t.props?l:_t(l)}let v=m;if(e&&!1!==g){const t=Object.keys(e),{shapeFlag:n}=v;t.length&&(1&n||6&n)&&(c&&t.some(r["s"])&&(e=gt(e,c)),v=Cr(v,e))}0,n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),m=v}catch(y){ar.length=0,Ne(y,e,1),m=br(sr)}return lt(v),m}const _t=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(r["u"])(n))&&((t||(t={}))[n]=e[n]);return t},gt=(e,t)=>{const n={};for(const i in e)Object(r["s"])(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function mt(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:c,patchFlag:a}=t,l=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&a>=0))return!(!i&&!c||c&&c.$stable)||r!==s&&(r?!s||vt(r,s,l):!!s);if(1024&a)return!0;if(16&a)return r?vt(r,s,l):!!s;if(8&a){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!st(l,n))return!0}}return!1}function vt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!st(n,o))return!0}return!1}function yt({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const bt=e=>e.__isSuspense;function wt(e,t){t&&t.pendingBranch?Object(r["m"])(e)?t.effects.push(...e):t.effects.push(e):Ze(e)}function Ct(e,t){if(Fr){let n=Fr.provides;const r=Fr.parent&&Fr.parent.provides;r===n&&(n=Fr.provides=Object.create(r)),n[e]=t}else 0}function Ot(e,t,n=!1){const i=Fr||ct;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Object(r["n"])(t)?t.call(i.proxy):t}else 0}const xt={};function Et(e,t,n){return St(e,t,n)}function St(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:c}=r["b"],a=Fr){let l,d,f=!1,p=!1;if(Oe(e)?(l=()=>e.value,f=!!e._shallow):ve(e)?(l=()=>e,i=!0):Object(r["m"])(e)?(p=!0,f=e.some(ve),l=()=>e.map(e=>Oe(e)?e.value:ve(e)?Tt(e):Object(r["n"])(e)?Te(e,a,2):void 0)):l=Object(r["n"])(e)?t?()=>Te(e,a,2):()=>{if(!a||!a.isUnmounted)return d&&d(),ke(e,a,3,[_])}:r["d"],t&&i){const e=l;l=()=>Tt(e())}let _=e=>{d=y.options.onStop=()=>{Te(e,a,4)}},g=p?[]:xt;const m=()=>{if(y.active)if(t){const e=y();(i||f||(p?e.some((e,t)=>Object(r["i"])(e,g[t])):Object(r["i"])(e,g)))&&(d&&d(),ke(t,a,3,[e,g===xt?void 0:g,_]),g=e)}else y()};let v;m.allowRecurse=!!t,v="sync"===o?m:"post"===o?()=>Hn(m,a&&a.suspense):()=>{!a||a.isMounted?Xe(m):m()};const y=u(l,{lazy:!0,onTrack:s,onTrigger:c,scheduler:v});return Kr(y,a),t?n?m():g=y():"post"===o?Hn(y,a&&a.suspense):y(),()=>{h(y),a&&Object(r["I"])(a.effects,y)}}function jt(e,t,n){const i=this.proxy,o=Object(r["B"])(e)?e.includes(".")?It(i,e):()=>i[e]:e.bind(i,i);let s;return Object(r["n"])(t)?s=t:(s=t.handler,n=t),St(o,s.bind(i),n,this)}function It(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Tt(e,t=new Set){if(!Object(r["t"])(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),Oe(e))Tt(e.value,t);else if(Object(r["m"])(e))for(let n=0;n<e.length;n++)Tt(e[n],t);else if(Object(r["z"])(e)||Object(r["r"])(e))e.forEach(e=>{Tt(e,t)});else if(Object(r["v"])(e))for(const n in e)Tt(e[n],t);return e}function kt(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xt(()=>{e.isMounted=!0}),tn(()=>{e.isUnmounting=!0}),e}const Nt=[Function,Array],Pt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nt,onEnter:Nt,onAfterEnter:Nt,onEnterCancelled:Nt,onBeforeLeave:Nt,onLeave:Nt,onAfterLeave:Nt,onLeaveCancelled:Nt,onBeforeAppear:Nt,onAppear:Nt,onAfterAppear:Nt,onAppearCancelled:Nt},setup(e,{slots:t}){const n=Dr(),r=kt();let i;return()=>{const o=t.default&&qt(t.default(),!0);if(!o||!o.length)return;const s=we(e),{mode:c}=s;const a=o[0];if(r.isLeaving)return Lt(a);const l=Ft(a);if(!l)return Lt(a);const u=Mt(l,s,r,n);Dt(l,u);const h=n.subTree,d=h&&Ft(h);let f=!1;const{getTransitionKey:p}=l.type;if(p){const e=p();void 0===i?i=e:e!==i&&(i=e,f=!0)}if(d&&d.type!==sr&&(!gr(l,d)||f)){const e=Mt(d,s,r,n);if(Dt(d,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},Lt(a);"in-out"===c&&l.type!==sr&&(e.delayLeave=(e,t,n)=>{const i=At(r,d);i[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return a}}},Rt=Pt;function At(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Mt(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:c,onEnter:a,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:_,onAppear:g,onAfterAppear:m,onAppearCancelled:v}=t,y=String(e.key),b=At(n,e),w=(e,t)=>{e&&ke(e,r,9,t)},C={mode:o,persisted:s,beforeEnter(t){let r=c;if(!n.isMounted){if(!i)return;r=_||c}t._leaveCb&&t._leaveCb(!0);const o=b[y];o&&gr(e,o)&&o.el._leaveCb&&o.el._leaveCb(),w(r,[t])},enter(e){let t=a,r=l,o=u;if(!n.isMounted){if(!i)return;t=g||a,r=m||l,o=v||u}let s=!1;const c=e._enterCb=t=>{s||(s=!0,w(t?o:r,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,c),t.length<=1&&c()):c()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(h,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,r(),w(n?p:f,[t]),t._leaveCb=void 0,b[i]===e&&delete b[i])};b[i]=e,d?(d(t,s),d.length<=1&&s()):s()},clone(e){return Mt(e,t,n,r)}};return C}function Lt(e){if(Wt(e))return e=Cr(e),e.children=null,e}function Ft(e){return Wt(e)?e.children?e.children[0]:void 0:e}function Dt(e,t){6&e.shapeFlag&&e.component?Dt(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qt(e,t=!1){let n=[],r=0;for(let i=0;i<e.length;i++){const o=e[i];o.type===ir?(128&o.patchFlag&&r++,n=n.concat(qt(o.children,t))):(t||o.type!==sr)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const Ut=e=>!!e.type.__asyncLoader;const Wt=e=>e.type.__isKeepAlive;RegExp,RegExp;function Bt(e,t){return Object(r["m"])(e)?e.some(e=>Bt(e,t)):Object(r["B"])(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function zt(e,t){Ht(e,"a",t)}function Vt(e,t){Ht(e,"da",t)}function Ht(e,t,n=Fr){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(Kt(t,r,n),n){let e=n.parent;while(e&&e.parent)Wt(e.parent.vnode)&&$t(r,t,n,e),e=e.parent}}function $t(e,t,n,i){const o=Kt(t,e,i,!0);nn(()=>{Object(r["I"])(i[t],o)},n)}function Gt(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Yt(e){return 128&e.shapeFlag?e.ssContent:e}function Kt(e,t,n=Fr,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;m(),qr(n);const i=ke(t,n,e,r);return qr(null),y(),i});return r?i.unshift(o):i.push(o),o}}const Qt=e=>(t,n=Fr)=>(!Br||"sp"===e)&&Kt(e,t,n),Jt=Qt("bm"),Xt=Qt("m"),Zt=Qt("bu"),en=Qt("u"),tn=Qt("bum"),nn=Qt("um"),rn=Qt("sp"),on=Qt("rtg"),sn=Qt("rtc");function cn(e,t=Fr){Kt("ec",e,t)}let an=!0;function ln(e){const t=fn(e),n=e.proxy,i=e.ctx;an=!1,t.beforeCreate&&hn(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:c,watch:a,provide:l,inject:u,created:h,beforeMount:d,mounted:f,beforeUpdate:p,updated:_,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:w,render:C,renderTracked:O,renderTriggered:x,errorCaptured:E,serverPrefetch:S,expose:j,inheritAttrs:I,components:T,directives:k,filters:N}=t,P=null;if(u&&un(u,i,P),c)for(const A in c){const e=c[A];Object(r["n"])(e)&&(i[A]=e.bind(n))}if(o){0;const t=o.call(n,n);0,Object(r["t"])(t)&&(e.data=pe(t))}if(an=!0,s)for(const A in s){const e=s[A],t=Object(r["n"])(e)?e.bind(n,n):Object(r["n"])(e.get)?e.get.bind(n,n):r["d"];0;const o=!Object(r["n"])(e)&&Object(r["n"])(e.set)?e.set.bind(n):r["d"],c=Xr({get:t,set:o});Object.defineProperty(i,A,{enumerable:!0,configurable:!0,get:()=>c.value,set:e=>c.value=e})}if(a)for(const r in a)dn(a[r],i,n,r);if(l){const e=Object(r["n"])(l)?l.call(n):l;Reflect.ownKeys(e).forEach(t=>{Ct(t,e[t])})}function R(e,t){Object(r["m"])(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(h&&hn(h,e,"c"),R(Jt,d),R(Xt,f),R(Zt,p),R(en,_),R(zt,g),R(Vt,m),R(cn,E),R(sn,O),R(on,x),R(tn,y),R(nn,w),R(rn,S),Object(r["m"])(j))if(j.length){const t=e.exposed||(e.exposed={});j.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});C&&e.render===r["d"]&&(e.render=C),null!=I&&(e.inheritAttrs=I),T&&(e.components=T),k&&(e.directives=k)}function un(e,t,n=r["d"]){Object(r["m"])(e)&&(e=vn(e));for(const i in e){const n=e[i];Object(r["t"])(n)?t[i]="default"in n?Ot(n.from||i,n.default,!0):Ot(n.from||i):t[i]=Ot(n)}}function hn(e,t,n){ke(Object(r["m"])(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function dn(e,t,n,i){const o=i.includes(".")?It(n,i):()=>n[i];if(Object(r["B"])(e)){const n=t[e];Object(r["n"])(n)&&Et(o,n)}else if(Object(r["n"])(e))Et(o,e.bind(n));else if(Object(r["t"])(e))if(Object(r["m"])(e))e.forEach(e=>dn(e,t,n,i));else{const i=Object(r["n"])(e.handler)?e.handler.bind(n):t[e.handler];Object(r["n"])(i)&&Et(o,i,e)}else 0}function fn(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,c=o.get(t);let a;return c?a=c:i.length||n||r?(a={},i.length&&i.forEach(e=>pn(a,e,s,!0)),pn(a,t,s)):a=t,o.set(t,a),a}function pn(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&pn(e,o,n,!0),i&&i.forEach(t=>pn(e,t,n,!0));for(const s in t)if(r&&"expose"===s);else{const r=_n[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const _n={data:gn,props:bn,emits:bn,methods:bn,computed:bn,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,destroyed:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:bn,directives:bn,watch:wn,provide:gn,inject:mn};function gn(e,t){return t?e?function(){return Object(r["h"])(Object(r["n"])(e)?e.call(this,this):e,Object(r["n"])(t)?t.call(this,this):t)}:t:e}function mn(e,t){return bn(vn(e),vn(t))}function vn(e){if(Object(r["m"])(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yn(e,t){return e?[...new Set([].concat(e,t))]:t}function bn(e,t){return e?Object(r["h"])(Object(r["h"])(Object.create(null),e),t):t}function wn(e,t){if(!e)return t;if(!t)return e;const n=Object(r["h"])(Object.create(null),e);for(const r in t)n[r]=yn(e[r],t[r]);return n}function Cn(e,t,n,i=!1){const o={},s={};Object(r["g"])(s,mr,1),e.propsDefaults=Object.create(null),xn(e,t,o,s);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=i?o:_e(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function On(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:c}}=e,a=we(o),[l]=e.propsOptions;let u=!1;if(!(i||c>0)||16&c){let i;xn(e,t,o,s)&&(u=!0);for(const s in a)t&&(Object(r["j"])(t,s)||(i=Object(r["k"])(s))!==s&&Object(r["j"])(t,i))||(l?!n||void 0===n[s]&&void 0===n[i]||(o[s]=En(l,a,s,void 0,e,!0)):delete o[s]);if(s!==a)for(const e in s)t&&Object(r["j"])(t,e)||(delete s[e],u=!0)}else if(8&c){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let c=n[i];const h=t[c];if(l)if(Object(r["j"])(s,c))h!==s[c]&&(s[c]=h,u=!0);else{const t=Object(r["e"])(c);o[t]=En(l,a,t,h,e,!1)}else h!==s[c]&&(s[c]=h,u=!0)}}u&&w(e,"set","$attrs")}function xn(e,t,n,i){const[o,s]=e.propsOptions;let c,a=!1;if(t)for(let l in t){if(Object(r["x"])(l))continue;const u=t[l];let h;o&&Object(r["j"])(o,h=Object(r["e"])(l))?s&&s.includes(h)?(c||(c={}))[h]=u:n[h]=u:st(e.emitsOptions,l)||u!==i[l]&&(i[l]=u,a=!0)}if(s){const t=we(n),i=c||r["b"];for(let c=0;c<s.length;c++){const a=s[c];n[a]=En(o,t,a,i[a],e,!Object(r["j"])(i,a))}}return a}function En(e,t,n,i,o,s){const c=e[n];if(null!=c){const e=Object(r["j"])(c,"default");if(e&&void 0===i){const e=c.default;if(c.type!==Function&&Object(r["n"])(e)){const{propsDefaults:r}=o;n in r?i=r[n]:(qr(o),i=r[n]=e.call(null,t),qr(null))}else i=e}c[0]&&(s&&!e?i=!1:!c[1]||""!==i&&i!==Object(r["k"])(n)||(i=!0))}return i}function Sn(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,c={},a=[];let l=!1;if(!Object(r["n"])(e)){const i=e=>{l=!0;const[n,i]=Sn(e,t,!0);Object(r["h"])(c,n),i&&a.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!s&&!l)return i.set(e,r["a"]),r["a"];if(Object(r["m"])(s))for(let h=0;h<s.length;h++){0;const e=Object(r["e"])(s[h]);jn(e)&&(c[e]=r["b"])}else if(s){0;for(const e in s){const t=Object(r["e"])(e);if(jn(t)){const n=s[e],i=c[t]=Object(r["m"])(n)||Object(r["n"])(n)?{type:n}:n;if(i){const e=kn(Boolean,i.type),n=kn(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||Object(r["j"])(i,"default"))&&a.push(t)}}}}const u=[c,a];return i.set(e,u),u}function jn(e){return"$"!==e[0]}function In(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Tn(e,t){return In(e)===In(t)}function kn(e,t){return Object(r["m"])(t)?t.findIndex(t=>Tn(t,e)):Object(r["n"])(t)&&Tn(t,e)?0:-1}const Nn=e=>"_"===e[0]||"$stable"===e,Pn=e=>Object(r["m"])(e)?e.map(Er):[Er(e)],Rn=(e,t,n)=>{const r=ft(e=>Pn(t(e)),n);return r._c=!1,r},An=(e,t,n)=>{const i=e._ctx;for(const o in e){if(Nn(o))continue;const n=e[o];if(Object(r["n"])(n))t[o]=Rn(o,n,i);else if(null!=n){0;const e=Pn(n);t[o]=()=>e}}},Mn=(e,t)=>{const n=Pn(t);e.slots.default=()=>n},Ln=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=we(t),Object(r["g"])(t,"_",n)):An(t,e.slots={})}else e.slots={},t&&Mn(e,t);Object(r["g"])(e.slots,mr,1)},Fn=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,c=r["b"];if(32&i.shapeFlag){const e=t._;e?n&&1===e?s=!1:(Object(r["h"])(o,t),n||1!==e||delete o._):(s=!t.$stable,An(t,o)),c=t}else t&&(Mn(e,t),c={default:1});if(s)for(const r in o)Nn(r)||r in c||delete o[r]};function Dn(e,t){const n=ct;if(null===n)return e;const i=n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,c,a=r["b"]]=t[s];Object(r["n"])(e)&&(e={mounted:e,updated:e}),e.deep&&Tt(n),o.push({dir:e,instance:i,value:n,oldValue:void 0,arg:c,modifiers:a})}return e}function qn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const c=i[s];o&&(c.oldValue=o[s].value);let a=c.dir[r];a&&(m(),ke(a,n,8,[e.el,c,e,t]),y())}}function Un(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wn=0;function Bn(e,t){return function(n,i=null){null==i||Object(r["t"])(i)||(i=null);const o=Un(),s=new Set;let c=!1;const a=o.app={_uid:Wn++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:ei,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&Object(r["n"])(e.install)?(s.add(e),e.install(a,...t)):Object(r["n"])(e)&&(s.add(e),e(a,...t))),a},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),a},component(e,t){return t?(o.components[e]=t,a):o.components[e]},directive(e,t){return t?(o.directives[e]=t,a):o.directives[e]},mount(r,s,l){if(!c){const u=br(n,i);return u.appContext=o,s&&t?t(u,r):e(u,r,l),c=!0,a._container=r,r.__vue_app__=a,u.component.proxy}},unmount(){c&&(e(null,a._container),delete a._container.__vue_app__)},provide(e,t){return o.provides[e]=t,a}};return a}}function zn(){}const Vn={scheduler:Ye,allowRecurse:!0};const Hn=wt,$n=(e,t,n,i,o=!1)=>{if(Object(r["m"])(e))return void e.forEach((e,s)=>$n(e,t&&(Object(r["m"])(t)?t[s]:t),n,i,o));if(Ut(i)&&!o)return;const s=4&i.shapeFlag?Yr(i.component)||i.component.proxy:i.el,c=o?null:s,{i:a,r:l}=e;const u=t&&t.r,h=a.refs===r["b"]?a.refs={}:a.refs,d=a.setupState;if(null!=u&&u!==l&&(Object(r["B"])(u)?(h[u]=null,Object(r["j"])(d,u)&&(d[u]=null)):Oe(u)&&(u.value=null)),Object(r["B"])(l)){const e=()=>{h[l]=c,Object(r["j"])(d,l)&&(d[l]=c)};c?(e.id=-1,Hn(e,n)):e()}else if(Oe(l)){const e=()=>{l.value=c};c?(e.id=-1,Hn(e,n)):e()}else Object(r["n"])(l)&&Te(l,a,12,[c,h])};function Gn(e){return Yn(e)}function Yn(e,t){zn();const{insert:n,remove:i,patchProp:o,forcePatchProp:s,createElement:c,createText:a,createComment:l,setText:d,setElementText:f,parentNode:p,nextSibling:_,setScopeId:g=r["d"],cloneNode:v,insertStaticContent:b}=e,w=(e,t,n,r=null,i=null,o=null,s=!1,c=null,a=!!t.dynamicChildren)=>{e&&!gr(e,t)&&(r=K(e),V(e,i,o,!0),e=null),-2===t.patchFlag&&(a=!1,t.dynamicChildren=null);const{type:l,ref:u,shapeFlag:h}=t;switch(l){case or:C(e,t,n,r);break;case sr:O(e,t,n,r);break;case cr:null==e&&x(t,n,r,s);break;case ir:A(e,t,n,r,i,o,s,c,a);break;default:1&h?j(e,t,n,r,i,o,s,c,a):6&h?M(e,t,n,r,i,o,s,c,a):(64&h||128&h)&&l.process(e,t,n,r,i,o,s,c,a,J)}null!=u&&i&&$n(u,e&&e.ref,o,t||e,!t)},C=(e,t,r,i)=>{if(null==e)n(t.el=a(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},O=(e,t,r,i)=>{null==e?n(t.el=l(t.children||""),r,i):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=b(e.children,t,n,r)},E=({el:e,anchor:t},r,i)=>{let o;while(e&&e!==t)o=_(e),n(e,r,i),e=o;n(t,r,i)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=_(e),i(e),e=n;i(t)},j=(e,t,n,r,i,o,s,c,a)=>{s=s||"svg"===t.type,null==e?I(t,n,r,i,o,s,c,a):N(e,t,i,o,s,c,a)},I=(e,t,i,s,a,l,u,h)=>{let d,p;const{type:_,props:g,shapeFlag:m,transition:y,patchFlag:b,dirs:w}=e;if(e.el&&void 0!==v&&-1===b)d=e.el=v(e.el);else{if(d=e.el=c(e.type,l,g&&g.is,g),8&m?f(d,e.children):16&m&&k(e.children,d,null,s,a,l&&"foreignObject"!==_,u,h),w&&qn(e,null,s,"created"),g){for(const t in g)Object(r["x"])(t)||o(d,t,null,g[t],l,e.children,s,a,Y);(p=g.onVnodeBeforeMount)&&Kn(p,s,e)}T(d,e,e.scopeId,u,s)}w&&qn(e,null,s,"beforeMount");const C=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;C&&y.beforeEnter(d),n(d,t,i),((p=g&&g.onVnodeMounted)||C||w)&&Hn(()=>{p&&Kn(p,s,e),C&&y.enter(d),w&&qn(e,null,s,"mounted")},a)},T=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let o=0;o<r.length;o++)g(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;T(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},k=(e,t,n,r,i,o,s,c,a=0)=>{for(let l=a;l<e.length;l++){const a=e[l]=c?Sr(e[l]):Er(e[l]);w(null,a,t,n,r,i,o,s,c)}},N=(e,t,n,i,c,a,l)=>{const u=t.el=e.el;let{patchFlag:h,dynamicChildren:d,dirs:p}=t;h|=16&e.patchFlag;const _=e.props||r["b"],g=t.props||r["b"];let m;if((m=g.onVnodeBeforeUpdate)&&Kn(m,n,t,e),p&&qn(t,e,n,"beforeUpdate"),h>0){if(16&h)R(u,t,_,g,n,i,c);else if(2&h&&_.class!==g.class&&o(u,"class",null,g.class,c),4&h&&o(u,"style",_.style,g.style,c),8&h){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const a=r[t],l=_[a],h=g[a];(h!==l||s&&s(u,a))&&o(u,a,l,h,c,e.children,n,i,Y)}}1&h&&e.children!==t.children&&f(u,t.children)}else l||null!=d||R(u,t,_,g,n,i,c);const v=c&&"foreignObject"!==t.type;d?P(e.dynamicChildren,d,u,n,i,v,a):l||U(e,t,u,null,n,i,v,a,!1),((m=g.onVnodeUpdated)||p)&&Hn(()=>{m&&Kn(m,n,t,e),p&&qn(t,e,n,"updated")},i)},P=(e,t,n,r,i,o,s)=>{for(let c=0;c<t.length;c++){const a=e[c],l=t[c],u=a.el&&(a.type===ir||!gr(a,l)||6&a.shapeFlag||64&a.shapeFlag)?p(a.el):n;w(a,l,u,null,r,i,o,s,!0)}},R=(e,t,n,i,c,a,l)=>{if(n!==i){for(const u in i){if(Object(r["x"])(u))continue;const h=i[u],d=n[u];(h!==d||s&&s(e,u))&&o(e,u,d,h,l,t.children,c,a,Y)}if(n!==r["b"])for(const s in n)Object(r["x"])(s)||s in i||o(e,s,n[s],null,l,t.children,c,a,Y)}},A=(e,t,r,i,o,s,c,l,u)=>{const h=t.el=e?e.el:a(""),d=t.anchor=e?e.anchor:a("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:_}=t;p&&(u=!0),_&&(l=l?l.concat(_):_),null==e?(n(h,r,i),n(d,r,i),k(t.children,r,d,o,s,c,l,u)):f>0&&64&f&&p&&e.dynamicChildren?(P(e.dynamicChildren,p,r,o,s,c,l),(null!=t.key||o&&t===o.subTree)&&Qn(e,t,!0)):U(e,t,r,d,o,s,c,l,u)},M=(e,t,n,r,i,o,s,c,a)=>{t.slotScopeIds=c,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,a):L(t,n,r,i,o,s,a):F(e,t,a)},L=(e,t,n,r,i,o,s)=>{const c=e.component=Lr(e,r,i);if(Wt(e)&&(c.ctx.renderer=J),zr(c),c.asyncDep){if(i&&i.registerDep(c,D),!e.el){const e=c.subTree=br(sr);O(null,e,t,n)}}else D(c,e,t,n,i,o,s)},F=(e,t,n)=>{const r=t.component=e.component;if(mt(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void q(r,t,n);r.next=t,Qe(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},D=(e,t,n,i,o,s,c)=>{e.update=u((function(){if(e.isMounted){let t,{next:n,bu:i,u:a,parent:l,vnode:u}=e,h=n;0,n?(n.el=u.el,q(e,n,c)):n=u,i&&Object(r["l"])(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Kn(t,l,n,u);const d=pt(e);0;const f=e.subTree;e.subTree=d,w(f,d,p(f.el),K(f),e,o,s),n.el=d.el,null===h&&yt(e,d.el),a&&Hn(a,o),(t=n.props&&n.props.onVnodeUpdated)&&Hn(()=>Kn(t,l,n,u),o)}else{let c;const{el:a,props:l}=t,{bm:u,m:h,parent:d}=e;if(u&&Object(r["l"])(u),(c=l&&l.onVnodeBeforeMount)&&Kn(c,d,t),a&&Z){const n=()=>{e.subTree=pt(e),Z(a,e.subTree,e,o,null)};Ut(t)?t.type.__asyncLoader().then(()=>!e.isUnmounted&&n()):n()}else{0;const r=e.subTree=pt(e);0,w(null,r,n,i,e,o,s),t.el=r.el}if(h&&Hn(h,o),c=l&&l.onVnodeMounted){const e=t;Hn(()=>Kn(c,d,e),o)}256&t.shapeFlag&&e.a&&Hn(e.a,o),e.isMounted=!0,t=n=i=null}}),Vn)},q=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,On(e,t.props,r,n),Fn(e,t.children,n),m(),et(void 0,e.update),y()},U=(e,t,n,r,i,o,s,c,a=!1)=>{const l=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void B(l,h,n,r,i,o,s,c,a);if(256&d)return void W(l,h,n,r,i,o,s,c,a)}8&p?(16&u&&Y(l,i,o),h!==l&&f(n,h)):16&u?16&p?B(l,h,n,r,i,o,s,c,a):Y(l,i,o,!0):(8&u&&f(n,""),16&p&&k(h,n,r,i,o,s,c,a))},W=(e,t,n,i,o,s,c,a,l)=>{e=e||r["a"],t=t||r["a"];const u=e.length,h=t.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const r=t[f]=l?Sr(t[f]):Er(t[f]);w(e[f],r,n,null,o,s,c,a,l)}u>h?Y(e,o,s,!0,!1,d):k(t,n,i,o,s,c,a,l,d)},B=(e,t,n,i,o,s,c,a,l)=>{let u=0;const h=t.length;let d=e.length-1,f=h-1;while(u<=d&&u<=f){const r=e[u],i=t[u]=l?Sr(t[u]):Er(t[u]);if(!gr(r,i))break;w(r,i,n,null,o,s,c,a,l),u++}while(u<=d&&u<=f){const r=e[d],i=t[f]=l?Sr(t[f]):Er(t[f]);if(!gr(r,i))break;w(r,i,n,null,o,s,c,a,l),d--,f--}if(u>d){if(u<=f){const e=f+1,r=e<h?t[e].el:i;while(u<=f)w(null,t[u]=l?Sr(t[u]):Er(t[u]),n,r,o,s,c,a,l),u++}}else if(u>f)while(u<=d)V(e[u],o,s,!0),u++;else{const p=u,_=u,g=new Map;for(u=_;u<=f;u++){const e=t[u]=l?Sr(t[u]):Er(t[u]);null!=e.key&&g.set(e.key,u)}let m,v=0;const y=f-_+1;let b=!1,C=0;const O=new Array(y);for(u=0;u<y;u++)O[u]=0;for(u=p;u<=d;u++){const r=e[u];if(v>=y){V(r,o,s,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(m=_;m<=f;m++)if(0===O[m-_]&&gr(r,t[m])){i=m;break}void 0===i?V(r,o,s,!0):(O[i-_]=u+1,i>=C?C=i:b=!0,w(r,t[i],n,null,o,s,c,a,l),v++)}const x=b?Jn(O):r["a"];for(m=x.length-1,u=y-1;u>=0;u--){const e=_+u,r=t[e],d=e+1<h?t[e+1].el:i;0===O[u]?w(null,r,n,d,o,s,c,a,l):b&&(m<0||u!==x[m]?z(r,n,d,2):m--)}}},z=(e,t,r,i,o=null)=>{const{el:s,type:c,transition:a,children:l,shapeFlag:u}=e;if(6&u)return void z(e.component.subTree,t,r,i);if(128&u)return void e.suspense.move(t,r,i);if(64&u)return void c.move(e,t,r,J);if(c===ir){n(s,t,r);for(let e=0;e<l.length;e++)z(l[e],t,r,i);return void n(e.anchor,t,r)}if(c===cr)return void E(e,t,r);const h=2!==i&&1&u&&a;if(h)if(0===i)a.beforeEnter(s),n(s,t,r),Hn(()=>a.enter(s),o);else{const{leave:e,delayLeave:i,afterLeave:o}=a,c=()=>n(s,t,r),l=()=>{e(s,()=>{c(),o&&o()})};i?i(s,c,l):l()}else n(s,t,r)},V=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:c,children:a,dynamicChildren:l,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=c&&$n(c,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&d;let p;if((p=s&&s.onVnodeBeforeUnmount)&&Kn(p,t,e),6&u)G(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&qn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,J,r):l&&(o!==ir||h>0&&64&h)?Y(l,t,n,!1,!0):(o===ir&&(128&h||256&h)||!i&&16&u)&&Y(a,t,n),r&&H(e)}((p=s&&s.onVnodeUnmounted)||f)&&Hn(()=>{p&&Kn(p,t,e),f&&qn(e,null,t,"unmounted")},n)},H=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===ir)return void $(n,r);if(t===cr)return void S(e);const s=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},$=(e,t)=>{let n;while(e!==t)n=_(e),i(e),e=n;i(t)},G=(e,t,n)=>{const{bum:i,effects:o,update:s,subTree:c,um:a}=e;if(i&&Object(r["l"])(i),o)for(let r=0;r<o.length;r++)h(o[r]);s&&(h(s),V(c,e,t,n)),a&&Hn(a,t),Hn(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Y=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)V(e[s],t,n,r,i)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():_(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&V(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),tt(),t._vnode=e},J={p:w,um:V,m:z,r:H,mt:L,mc:k,pc:U,pbc:P,n:K,o:e};let X,Z;return t&&([X,Z]=t(J)),{render:Q,hydrate:X,createApp:Bn(Q,X)}}function Kn(e,t,n,r=null){ke(e,t,7,[n,r])}function Qn(e,t,n=!1){const i=e.children,o=t.children;if(Object(r["m"])(i)&&Object(r["m"])(o))for(let r=0;r<i.length;r++){const e=i[r];let t=o[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[r]=Sr(o[r]),t.el=e.el),n||Qn(e,t))}}function Jn(e){const t=e.slice(),n=[0];let r,i,o,s,c;const a=e.length;for(r=0;r<a;r++){const a=e[r];if(0!==a){if(i=n[n.length-1],e[i]<a){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)c=(o+s)/2|0,e[n[c]]<a?o=c+1:s=c;a<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}const Xn=e=>e.__isTeleport;const Zn="components";function er(e,t){return nr(Zn,e,!0,t)||e}const tr=Symbol();function nr(e,t,n=!0,i=!1){const o=ct||Fr;if(o){const n=o.type;if(e===Zn){const e=Qr(n);if(e&&(e===t||e===Object(r["e"])(t)||e===Object(r["f"])(Object(r["e"])(t))))return n}const s=rr(o[e]||n[e],t)||rr(o.appContext[e],t);return!s&&i?n:s}}function rr(e,t){return e&&(e[t]||e[Object(r["e"])(t)]||e[Object(r["f"])(Object(r["e"])(t))])}const ir=Symbol(void 0),or=Symbol(void 0),sr=Symbol(void 0),cr=Symbol(void 0),ar=[];let lr=null;function ur(e=!1){ar.push(lr=e?null:[])}function hr(){ar.pop(),lr=ar[ar.length-1]||null}let dr=1;function fr(e){dr+=e}function pr(e,t,n,i,o){const s=br(e,t,n,i,o,!0);return s.dynamicChildren=dr>0?lr||r["a"]:null,hr(),dr>0&&lr&&lr.push(s),s}function _r(e){return!!e&&!0===e.__v_isVNode}function gr(e,t){return e.type===t.type&&e.key===t.key}const mr="__vInternal",vr=({key:e})=>null!=e?e:null,yr=({ref:e})=>null!=e?Object(r["B"])(e)||Oe(e)||Object(r["n"])(e)?{i:ct,r:e}:e:null,br=wr;function wr(e,t=null,n=null,i=0,o=null,s=!1){if(e&&e!==tr||(e=sr),_r(e)){const r=Cr(e,t,!0);return n&&jr(r,n),r}if(Jr(e)&&(e=e.__vccOpts),t){(be(t)||mr in t)&&(t=Object(r["h"])({},t));let{class:e,style:n}=t;e&&!Object(r["B"])(e)&&(t.class=Object(r["G"])(e)),Object(r["t"])(n)&&(be(n)&&!Object(r["m"])(n)&&(n=Object(r["h"])({},n)),t.style=Object(r["H"])(n))}const c=Object(r["B"])(e)?1:bt(e)?128:Xn(e)?64:Object(r["t"])(e)?4:Object(r["n"])(e)?2:0;const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vr(t),ref:t&&yr(t),scopeId:at,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return jr(a,n),128&c&&e.normalize(a),dr>0&&!s&&lr&&(i>0||6&c)&&32!==i&&lr.push(a),a}function Cr(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:c}=e,a=t?Ir(i||{},t):i,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&vr(a),ref:t&&t.ref?n&&o?Object(r["m"])(o)?o.concat(yr(t)):[o,yr(t)]:yr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ir?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cr(e.ssContent),ssFallback:e.ssFallback&&Cr(e.ssFallback),el:e.el,anchor:e.anchor};return l}function Or(e=" ",t=0){return br(or,null,e,t)}function xr(e="",t=!1){return t?(ur(),pr(sr,null,e)):br(sr,null,e)}function Er(e){return null==e||"boolean"===typeof e?br(sr):Object(r["m"])(e)?br(ir,null,e.slice()):"object"===typeof e?Sr(e):br(or,null,String(e))}function Sr(e){return null===e.el?e:Cr(e)}function jr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(Object(r["m"])(t))n=16;else if("object"===typeof t){if(1&i||64&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),jr(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||mr in t?3===r&&ct&&(1===ct.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=ct}}else Object(r["n"])(t)?(t={default:t,_ctx:ct},n=32):(t=String(t),64&i?(n=16,t=[Or(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ir(...e){const t=Object(r["h"])({},e[0]);for(let n=1;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=Object(r["G"])([t.class,i.class]));else if("style"===e)t.style=Object(r["H"])([t.style,i.style]);else if(Object(r["u"])(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}function Tr(e,t){let n;if(Object(r["m"])(e)||Object(r["B"])(e)){n=new Array(e.length);for(let r=0,i=e.length;r<i;r++)n[r]=t(e[r],r)}else if("number"===typeof e){0,n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r)}else if(Object(r["t"])(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const r=Object.keys(e);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=t(e[o],o,i)}}else n=[];return n}const kr=e=>e?Ur(e)?Yr(e)||e.proxy:kr(e.parent):null,Nr=Object(r["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kr(e.parent),$root:e=>kr(e.root),$emit:e=>e.emit,$options:e=>fn(e),$forceUpdate:e=>()=>Ye(e.update),$nextTick:e=>$e.bind(e.proxy),$watch:e=>jt.bind(e)}),Pr={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:c,type:a,appContext:l}=e;let u;if("$"!==t[0]){const a=c[t];if(void 0!==a)switch(a){case 0:return i[t];case 1:return o[t];case 3:return n[t];case 2:return s[t]}else{if(i!==r["b"]&&Object(r["j"])(i,t))return c[t]=0,i[t];if(o!==r["b"]&&Object(r["j"])(o,t))return c[t]=1,o[t];if((u=e.propsOptions[0])&&Object(r["j"])(u,t))return c[t]=2,s[t];if(n!==r["b"]&&Object(r["j"])(n,t))return c[t]=3,n[t];an&&(c[t]=4)}}const h=Nr[t];let d,f;return h?("$attrs"===t&&b(e,"get",t),h(e)):(d=a.__cssModules)&&(d=d[t])?d:n!==r["b"]&&Object(r["j"])(n,t)?(c[t]=3,n[t]):(f=l.config.globalProperties,Object(r["j"])(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;if(o!==r["b"]&&Object(r["j"])(o,t))o[t]=n;else if(i!==r["b"]&&Object(r["j"])(i,t))i[t]=n;else if(Object(r["j"])(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},c){let a;return void 0!==n[c]||e!==r["b"]&&Object(r["j"])(e,c)||t!==r["b"]&&Object(r["j"])(t,c)||(a=s[0])&&Object(r["j"])(a,c)||Object(r["j"])(i,c)||Object(r["j"])(Nr,c)||Object(r["j"])(o.config.globalProperties,c)}};const Rr=Object(r["h"])({},Pr,{get(e,t){if(t!==Symbol.unscopables)return Pr.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!Object(r["o"])(t);return n}});const Ar=Un();let Mr=0;function Lr(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||Ar,s={uid:Mr++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sn(i,o),emitsOptions:ot(i,o),emit:null,emitted:null,propsDefaults:r["b"],inheritAttrs:i.inheritAttrs,ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=it.bind(null,s),s}let Fr=null;const Dr=()=>Fr||ct,qr=e=>{Fr=e};function Ur(e){return 4&e.vnode.shapeFlag}let Wr,Br=!1;function zr(e,t=!1){Br=t;const{props:n,children:r}=e.vnode,i=Ur(e);Cn(e,n,i,t),Ln(e,r);const o=i?Vr(e,t):void 0;return Br=!1,o}function Vr(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ce(new Proxy(e.ctx,Pr));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?Gr(e):null;Fr=e,m();const o=Te(i,e,0,[e.props,n]);if(y(),Fr=null,Object(r["w"])(o)){const n=()=>{Fr=null};if(o.then(n,n),t)return o.then(n=>{Hr(e,n,t)}).catch(t=>{Ne(t,e,0)});e.asyncDep=o}else Hr(e,o,t)}else $r(e,t)}function Hr(e,t,n){Object(r["n"])(t)?e.render=t:Object(r["t"])(t)&&(e.setupState=Se(t)),$r(e,n)}function $r(e,t,n){const i=e.type;if(!e.render){if(Wr&&!i.render){const t=i.template;if(t){0;const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:c}=i,a=Object(r["h"])(Object(r["h"])({isCustomElement:n,delimiters:s},o),c);i.render=Wr(t,a)}}e.render=i.render||r["d"],e.render._rc&&(e.withProxy=new Proxy(e.ctx,Rr))}Fr=e,m(),ln(e),y(),Fr=null}function Gr(e){const t=t=>{e.exposed=t||{}};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}function Yr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Se(Ce(e.exposed)),{get(t,n){return n in t?t[n]:n in Nr?Nr[n](e):void 0}}))}function Kr(e,t=Fr){t&&(t.effects||(t.effects=[])).push(e)}function Qr(e){return Object(r["n"])(e)&&e.displayName||e.name}function Jr(e){return Object(r["n"])(e)&&"__vccOpts"in e}function Xr(e){const t=Ie(e);return Kr(t.effect),t}function Zr(e,t,n){const i=arguments.length;return 2===i?Object(r["t"])(t)&&!Object(r["m"])(t)?_r(t)?br(e,null,[t]):br(e,t):br(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&_r(n)&&(n=[n]),br(e,t,n))}Symbol("");const ei="3.1.5",ti="http://www.w3.org/2000/svg",ni="undefined"!==typeof document?document:null,ri=new Map,ii={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?ni.createElementNS(ti,e):ni.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>ni.createTextNode(e),createComment:e=>ni.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ni.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const i=n?n.previousSibling:t.lastChild;let o=ri.get(e);if(!o){const t=ni.createElement("template");if(t.innerHTML=r?`<svg>${e}</svg>`:e,o=t.content,r){const e=o.firstChild;while(e.firstChild)o.appendChild(e.firstChild);o.removeChild(e)}ri.set(e,o)}return t.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function oi(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function si(e,t,n){const i=e.style;if(n)if(Object(r["B"])(n)){if(t!==n){const t=i.display;i.cssText=n,"_vod"in e&&(i.display=t)}}else{for(const e in n)ai(i,e,n[e]);if(t&&!Object(r["B"])(t))for(const e in t)null==n[e]&&ai(i,e,"")}else e.removeAttribute("style")}const ci=/\s*!important$/;function ai(e,t,n){if(Object(r["m"])(n))n.forEach(n=>ai(e,t,n));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=hi(e,t);ci.test(n)?e.setProperty(Object(r["k"])(i),n.replace(ci,""),"important"):e[i]=n}}const li=["Webkit","Moz","ms"],ui={};function hi(e,t){const n=ui[t];if(n)return n;let i=Object(r["e"])(t);if("filter"!==i&&i in e)return ui[t]=i;i=Object(r["f"])(i);for(let r=0;r<li.length;r++){const n=li[r]+i;if(n in e)return ui[t]=n}return t}const di="http://www.w3.org/1999/xlink";function fi(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(di,t.slice(6,t.length)):e.setAttributeNS(di,t,n);else{const i=Object(r["A"])(t);null==n||i&&!1===n?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function pi(e,t,n,r,i,o,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,i,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const r=null==n?"":n;return e.value!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r){try{e[t]=0}catch(c){}return void e.removeAttribute(t)}}try{e[t]=n}catch(a){0}}let _i=Date.now,gi=!1;if("undefined"!==typeof window){_i()>document.createEvent("Event").timeStamp&&(_i=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);gi=!!(e&&Number(e[1])<=53)}let mi=0;const vi=Promise.resolve(),yi=()=>{mi=0},bi=()=>mi||(vi.then(yi),mi=_i());function wi(e,t,n,r){e.addEventListener(t,n,r)}function Ci(e,t,n,r){e.removeEventListener(t,n,r)}function Oi(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[n,c]=Ei(t);if(r){const s=o[t]=Si(r,i);wi(e,n,s,c)}else s&&(Ci(e,n,s,c),o[t]=void 0)}}const xi=/(?:Once|Passive|Capture)$/;function Ei(e){let t;if(xi.test(e)){let n;t={};while(n=e.match(xi))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Object(r["k"])(e.slice(2)),t]}function Si(e,t){const n=e=>{const r=e.timeStamp||_i();(gi||r>=n.attached-1)&&ke(ji(e,n.value),t,5,[e])};return n.value=e,n.attached=bi(),n}function ji(e,t){if(Object(r["m"])(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e(t))}return t}const Ii=/^on[a-z]/,Ti=(e,t)=>"value"===t,ki=(e,t,n,i,o=!1,s,c,a,l)=>{switch(t){case"class":oi(e,i,o);break;case"style":si(e,n,i);break;default:Object(r["u"])(t)?Object(r["s"])(t)||Oi(e,t,n,i,c):Ni(e,t,i,o)?pi(e,t,i,s,c,a,l):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),fi(e,t,i,o));break}};function Ni(e,t,n,i){return i?"innerHTML"===t||!!(t in e&&Ii.test(t)&&Object(r["n"])(n)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!Ii.test(t)||!Object(r["B"])(n))&&t in e))))}const Pi="transition",Ri="animation",Ai=(e,{slots:t})=>Zr(Rt,Di(e),t);Ai.displayName="Transition";const Mi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Li=(Ai.props=Object(r["h"])({},Rt.props,Mi),(e,t=[])=>{Object(r["m"])(e)?e.forEach(e=>e(...t)):e&&e(...t)}),Fi=e=>!!e&&(Object(r["m"])(e)?e.some(e=>e.length>1):e.length>1);function Di(e){const t={};for(const r in e)r in Mi||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:s=n+"-enter-from",enterActiveClass:c=n+"-enter-active",enterToClass:a=n+"-enter-to",appearFromClass:l=s,appearActiveClass:u=c,appearToClass:h=a,leaveFromClass:d=n+"-leave-from",leaveActiveClass:f=n+"-leave-active",leaveToClass:p=n+"-leave-to"}=e,_=qi(o),g=_&&_[0],m=_&&_[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:C,onBeforeAppear:O=v,onAppear:x=y,onAppearCancelled:E=b}=t,S=(e,t,n)=>{Bi(e,t?h:a),Bi(e,t?u:c),n&&n()},j=(e,t)=>{Bi(e,p),Bi(e,f),t&&t()},I=e=>(t,n)=>{const r=e?x:y,o=()=>S(t,e,n);Li(r,[t,o]),zi(()=>{Bi(t,e?l:s),Wi(t,e?h:a),Fi(r)||Hi(t,i,g,o)})};return Object(r["h"])(t,{onBeforeEnter(e){Li(v,[e]),Wi(e,s),Wi(e,c)},onBeforeAppear(e){Li(O,[e]),Wi(e,l),Wi(e,u)},onEnter:I(!1),onAppear:I(!0),onLeave(e,t){const n=()=>j(e,t);Wi(e,d),Ki(),Wi(e,f),zi(()=>{Bi(e,d),Wi(e,p),Fi(w)||Hi(e,i,m,n)}),Li(w,[e,n])},onEnterCancelled(e){S(e,!1),Li(b,[e])},onAppearCancelled(e){S(e,!0),Li(E,[e])},onLeaveCancelled(e){j(e),Li(C,[e])}})}function qi(e){if(null==e)return null;if(Object(r["t"])(e))return[Ui(e.enter),Ui(e.leave)];{const t=Ui(e);return[t,t]}}function Ui(e){const t=Object(r["L"])(e);return t}function Wi(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function Bi(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function zi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Vi=0;function Hi(e,t,n,r){const i=e._endId=++Vi,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:c,propCount:a}=$i(e,t);if(!s)return r();const l=s+"end";let u=0;const h=()=>{e.removeEventListener(l,d),o()},d=t=>{t.target===e&&++u>=a&&h()};setTimeout(()=>{u<a&&h()},c+1),e.addEventListener(l,d)}function $i(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(Pi+"Delay"),o=r(Pi+"Duration"),s=Gi(i,o),c=r(Ri+"Delay"),a=r(Ri+"Duration"),l=Gi(c,a);let u=null,h=0,d=0;t===Pi?s>0&&(u=Pi,h=s,d=o.length):t===Ri?l>0&&(u=Ri,h=l,d=a.length):(h=Math.max(s,l),u=h>0?s>l?Pi:Ri:null,d=u?u===Pi?o.length:a.length:0);const f=u===Pi&&/\b(transform|all)(,|$)/.test(n[Pi+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:f}}function Gi(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>Yi(t)+Yi(e[n])))}function Yi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Ki(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Qi=e=>{const t=e.props["onUpdate:modelValue"];return Object(r["m"])(t)?e=>Object(r["l"])(t,e):t};function Ji(e){e.target.composing=!0}function Xi(e){const t=e.target;t.composing&&(t.composing=!1,Zi(t,"input"))}function Zi(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const eo={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e._assign=Qi(o);const s=i||"number"===e.type;wi(e,t?"change":"input",t=>{if(t.target.composing)return;let i=e.value;n?i=i.trim():s&&(i=Object(r["L"])(i)),e._assign(i)}),n&&wi(e,"change",()=>{e.value=e.value.trim()}),t||(wi(e,"compositionstart",Ji),wi(e,"compositionend",Xi),wi(e,"change",Xi))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:i}},o){if(e._assign=Qi(o),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((i||"number"===e.type)&&Object(r["L"])(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}};const to=Object(r["h"])({patchProp:ki,forcePatchProp:Ti},ii);let no;function ro(){return no||(no=Gn(to))}const io=(...e)=>{const t=ro().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=oo(e);if(!i)return;const o=t._component;Object(r["n"])(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function oo(e){if(Object(r["B"])(e)){const t=document.querySelector(e);return t}return e}},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),c=n("d012"),a=n("1be4"),l=n("cc12"),u=n("f772"),h=">",d="<",f="prototype",p="script",_=u("IE_PROTO"),g=function(){},m=function(e){return d+p+h+e+d+"/"+p+h},v=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=l("iframe"),n="java"+p+":";return t.style.display="none",a.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(m("document.F=Object")),e.close(),e.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=r?v(r):y();var e=s.length;while(e--)delete b[f][s[e]];return b()};c[_]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=i(e),n=new g,g[f]=null,n[_]=e):n=b(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),c=n("d44e"),a=n("9112"),l=n("6eeb"),u=n("b622"),h=n("c430"),d=n("3f8c"),f=n("ae93"),p=f.IteratorPrototype,_=f.BUGGY_SAFARI_ITERATORS,g=u("iterator"),m="keys",v="values",y="entries",b=function(){return this};e.exports=function(e,t,n,u,f,w,C){i(n,t,u);var O,x,E,S=function(e){if(e===f&&N)return N;if(!_&&e in T)return T[e];switch(e){case m:return function(){return new n(this,e)};case v:return function(){return new n(this,e)};case y:return function(){return new n(this,e)}}return function(){return new n(this)}},j=t+" Iterator",I=!1,T=e.prototype,k=T[g]||T["@@iterator"]||f&&T[f],N=!_&&k||S(f),P="Array"==t&&T.entries||k;if(P&&(O=o(P.call(new e)),p!==Object.prototype&&O.next&&(h||o(O)===p||(s?s(O,p):"function"!=typeof O[g]&&a(O,g,b)),c(O,j,!0,!0),h&&(d[j]=b))),f==v&&k&&k.name!==v&&(I=!0,N=function(){return k.call(this)}),h&&!C||T[g]===N||a(T,g,N),d[t]=N,f)if(x={values:S(v),keys:w?N:S(m),entries:S(y)},C)for(E in x)(_||I||!(E in T))&&l(T,E,x[E]);else r({target:t,proto:!0,forced:_||I},x);return x}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"841c":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("1d80"),s=n("129f"),c=n("14c3");r("search",(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,this,e);if(r.done)return r.value;var o=i(this),a=String(e),l=o.lastIndex;s(l,0)||(o.lastIndex=0);var u=c(o,a);return s(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},"87b8":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Xs})),n.d(t,"b",(function(){return Vs})),n.d(t,"c",(function(){return Ds})),n.d(t,"d",(function(){return Us}));var r=n("5606"),i=n("ffa6"),o=n("a8e9"),s=n("abfd");const c="@firebase/database",a="0.0.900-exp.6ef484a04";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let l="";function u(e){l=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o["y"])(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o["s"])(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Object(o["h"])(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(t){}return new d},p=f("localStorage"),_=f("sessionStorage"),g=new s["b"]("@firebase/database"),m=function(){let e=1;return function(){return e++}}(),v=function(e){const t=Object(o["x"])(e),n=new o["c"];n.update(t);const r=n.digest();return o["f"].encodeByteArray(r)},y=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=y.apply(null,r):t+="object"===typeof r?Object(o["y"])(r):r,t+=" "}return t};let b=null,w=!0;const C=function(e,t){Object(o["d"])(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s["a"].VERBOSE,b=g.log.bind(g),t&&_.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,_.remove("logging_enabled"))},O=function(...e){if(!0===w&&(w=!1,null===b&&!0===_.get("logging_enabled")&&C(!0)),b){const t=y.apply(null,e);b(t)}},x=function(e){return function(...t){O(e,...t)}},E=function(...e){const t="FIREBASE INTERNAL ERROR: "+y(...e);g.error(t)},S=function(...e){const t="FIREBASE FATAL ERROR: "+y(...e);throw g.error(t),new Error(t)},j=function(...e){const t="FIREBASE WARNING: "+y(...e);g.warn(t)},I=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&j("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},k=function(e){if(Object(o["p"])()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},N="[MIN_NAME]",P="[MAX_NAME]",R=function(e,t){if(e===t)return 0;if(e===N||t===P)return-1;if(t===N||e===P)return 1;{const n=$(e),r=$(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},A=function(e,t){return e===t?0:e<t?-1:1},M=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o["y"])(t))},L=function(e){if("object"!==typeof e||null===e)return Object(o["y"])(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Object(o["y"])(t[r]),n+=":",n+=L(e[t[r]]);return n+="}",n},F=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function D(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const q=function(e){Object(o["d"])(!T(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,c,a,l;0===e?(s=0,c=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,c=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,c=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(c%2?1:0),c=Math.floor(c/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(l=0;l<64;l+=8){let e=parseInt(h.substr(l,8),2).toString(16);1===e.length&&(e="0"+e),d+=e}return d.toLowerCase()},U=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},W=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function B(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const z=new RegExp("^-?(0*)\\d{1,10}$"),V=-2147483648,H=2147483647,$=function(e){if(z.test(e)){const t=Number(e);if(t>=V&&t<=H)return t}return null},G=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw j("Exception was thrown by user callback.",e),t},Math.floor(0))}},Y=function(){const e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},K=function(e,t){const n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Q{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){j(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',j(e)}}class X{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}X.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Z="5",ee="v",te="s",ne="r",re="f",ie=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="ls",se="p",ce="ac",ae="websocket",le="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ue{constructor(e,t,n,r,i=!1,o="",s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return`${e}${this.host}/${t}`}}function he(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function de(e,t,n){let r;if(Object(o["d"])("string"===typeof t,"typeof type must == string"),Object(o["d"])("object"===typeof n,"typeof params must == object"),t===ae)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==le)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}he(e)&&(n["ns"]=e.namespace);const i=[];return D(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(){this.counters_={}}incrementCounter(e,t=1){Object(o["h"])(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Object(o["j"])(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={},_e={};function ge(e){const t=e.toString();return pe[t]||(pe[t]=new fe),pe[t]}function me(e,t){const n=e.toString();return _e[n]||(_e[n]=t()),_e[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){this.pendingResponses[e]=t;while(this.pendingResponses[this.currentResponseNum]){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&G(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye="start",be="close",we="pLPCommand",Ce="pRTLPCB",Oe="id",xe="pw",Ee="ser",Se="cb",je="seg",Ie="ts",Te="d",ke="dframe",Ne=1870,Pe=30,Re=Ne-Pe,Ae=25e3,Me=3e4;class Le{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(e),this.stats_=ge(t),this.urlFn=e=>(this.appCheckToken&&(e[ce]=this.appCheckToken),de(t,le,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ve(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Me)),k(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fe((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ye)this.id=n,this.password=r;else{if(t!==be)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={};e[ye]="t",e[Ee]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[Se]=this.scriptTagHolder.uniqueCallbackIdentifier),e[ee]=Z,this.transportSessionId&&(e[te]=this.transportSessionId),this.lastSessionId&&(e[oe]=this.lastSessionId),this.applicationId&&(e[se]=this.applicationId),this.appCheckToken&&(e[ce]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(e[ne]=re);const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Le.forceAllow_=!0}static forceDisallow(){Le.forceDisallow_=!0}static isAvailable(){return!Object(o["p"])()&&(!!Le.forceAllow_||!Le.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!U()&&!W())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Object(o["y"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Object(o["g"])(t),r=F(n,Re);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Object(o["p"])())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[ke]="t",n[Oe]=e,n[xe]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Object(o["y"])(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Fe{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o["p"])())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=m(),window[we+this.uniqueCallbackIdentifier]=e,window[Ce+this.uniqueCallbackIdentifier]=t,this.myIFrame=Fe.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){const e=document.domain;n='<script>document.domain="'+e+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){O("frame writing exception"),i.stack&&O(i.stack),O(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{const t=e.contentWindow.document;t||O("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Oe]=this.myID,e[xe]=this.myPW,e[Ee]=this.currentSerial;let t=this.urlFn(e),n="",r=0;while(this.pendingSegs.length>0){const e=this.pendingSegs[0];if(!(e.d.length+Pe+n.length<=Ne))break;{const e=this.pendingSegs.shift();n=n+"&"+je+r+"="+e.seg+"&"+Ie+r+"="+e.ts+"&"+Te+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(Ae)),i=()=>{clearTimeout(r),n()};this.addTag(e,i)}addTag(e,t){Object(o["p"])()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{O("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=16384,qe=45e3;let Ue=null;"undefined"!==typeof MozWebSocket?Ue=MozWebSocket:"undefined"!==typeof WebSocket&&(Ue=WebSocket);class We{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=ge(t),this.connURL=We.connectionURL_(t,o,s,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r){const i={};return i[ee]=Z,!Object(o["p"])()&&"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(i[ne]=re),t&&(i[te]=t),n&&(i[oe]=n),r&&(i[ce]=r),de(e,ae,i)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(Object(o["p"])()){const t=this.nodeAdmin?"AdminNode":"Node",n={headers:{"User-Agent":`Firebase/${Z}/${l}/${e.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(n.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(n.headers["X-Firebase-AppCheck"]=this.appCheckToken);const r=Object({NODE_ENV:"production",BASE_URL:"/"}),i=0===this.connURL.indexOf("wss://")?r["HTTPS_PROXY"]||r["https_proxy"]:r["HTTP_PROXY"]||r["http_proxy"];i&&(n["proxy"]={origin:i}),this.mySock=new Ue(this.connURL,[],n)}else{const e={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Ue(this.connURL,[],e)}}catch(r){this.log_("Error instantiating WebSocket.");const e=r.message||r.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){We.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ue&&!We.forceDisallow_}static previouslyFailed(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")}markConnectionHealthy(){p.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Object(o["s"])(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Object(o["d"])(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Object(o["y"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=F(t,De);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qe))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}We.responsesRequiredToBeHealthy=2,We.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Be{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Le,We]}initTransports_(e){const t=We&&We["isAvailable"]();let n=t&&!We.previouslyFailed();if(e.webSocketOnly&&(t||j("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[We];else{const e=this.transports_=[];for(const t of Be.ALL_TRANSPORTS)t&&t["isAvailable"]()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze=6e4,Ve=5e3,He=10240,$e=102400,Ge="t",Ye="d",Ke="s",Qe="r",Je="e",Xe="o",Ze="a",et="n",tt="p",nt="h";class rt{constructor(e,t,n,r,i,o,s,c,a,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=c,this.onKill_=a,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new Be(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e["healthyTimeout"]||0;r>0&&(this.healthyTimeout_=K(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$e?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>He?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ge in e){const t=e[Ge];t===Ze?this.upgradeIfSecondaryHealthy_():t===Qe?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Xe&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=M("t",e),n=M("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tt,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ze,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:et,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=M("t",e),n=M("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=M(Ge,e);if(Ye in e){const n=e[Ye];if(t===nt)this.onHandshake_(n);else if(t===et){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ke?this.onConnectionShutdown_(n):t===Qe?this.onReset_(n):t===Je?E("Server Error: "+n):t===Xe?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Z!==n&&j("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),K(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ze))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ve))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tt,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.allowedEvents_=e,this.listeners_={},Object(o["d"])(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Object(o["d"])(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends ot{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o["o"])()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new st}getInitialEvent(e){return Object(o["d"])("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct=32,at=768;class lt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ut(){return new lt("")}function ht(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function dt(e){return e.pieces_.length-e.pieceNum_}function ft(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new lt(e.pieces_,t)}function pt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _t(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function gt(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function mt(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lt(t,0)}function vt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof lt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new lt(n,0)}function yt(e){return e.pieceNum_>=e.pieces_.length}function bt(e,t){const n=ht(e),r=ht(t);if(null===n)return t;if(n===r)return bt(ft(e),ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function wt(e,t){if(dt(e)!==dt(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ct(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(dt(e)>dt(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ot{constructor(e,t){this.errorPrefix_=t,this.parts_=gt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o["w"])(this.parts_[n]);St(this)}}function xt(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o["w"])(t),St(e)}function Et(e){const t=e.parts_.pop();e.byteLength_-=Object(o["w"])(t),e.parts_.length>0&&(e.byteLength_-=1)}function St(e){if(e.byteLength_>at)throw new Error(e.errorPrefix_+"has a key path longer than "+at+" bytes ("+e.byteLength_+").");if(e.parts_.length>ct)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ct+") or object contains a cycle "+jt(e))}function jt(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends ot{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(t="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new It}getInitialEvent(e){return Object(o["d"])("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt=1e3,kt=3e5,Nt=3e3,Pt=3e4,Rt=1.3,At=3e4,Mt="server_kill",Lt=3;class Ft extends it{constructor(e,t,n,r,i,s,c,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=c,this.authOverride_=a,this.id=Ft.nextPersistentConnectionId_++,this.log_=x("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tt,this.maxReconnectDelay_=kt,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Object(o["p"])())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");It.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&st.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o["y"])(i)),Object(o["d"])(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new o["a"],n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e["d"];"ok"===e["s"]?(this.onDataUpdate_(n["p"],r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))},Nt),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o["d"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o["d"])(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const c={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n},o="q";e.tag&&(i["q"]=t._queryObject,i["t"]=e.tag),i["h"]=e.hashFn(),this.sendRequest(o,i,i=>{const o=i["d"],s=i["s"];Ft.warnOnListenWarnings_(o,t);const c=this.listens.get(n)&&this.listens.get(n).get(r);c===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Object(o["h"])(e,"w")){const n=Object(o["v"])(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();j(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at `+n+" to your security rules for better performance.")}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){const t=e&&40===e.length;(t||Object(o["m"])(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Pt)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Object(o["r"])(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n["noauth"]=!0:"object"===typeof this.authOverride_&&(n["authvar"]=this.authOverride_),this.sendRequest(t,n,t=>{const n=t["s"],r=t["d"]||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e["s"],n=e["d"]||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o["d"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");const i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e["s"],e["d"])},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n["s"],n["d"])})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{const t=e["s"];if("ok"!==t){const t=e["d"];this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Object(o["y"])(e));const t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+Object(o["y"])(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Object(o["d"])(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){const e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>At&&(this.reconnectDelay_=Tt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rt)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ft.nextConnectionId_++,i=this.lastSessionId;let s=!1,c=null;const a=function(){c?c.close():(s=!0,n())},l=function(e){Object(o["d"])(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,a]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=a&&a.token,c=new rt(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{j(e+" ("+this.repoInfo_.toString()+")"),this.interrupt(Mt)},i))}catch(E){this.log_("Failed to get token: "+E),s||(this.repoInfo_.nodeAdmin&&j(E),a())}}}interrupt(e){O("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){O("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o["n"])(this.interruptReasons_)&&(this.reconnectDelay_=Tt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>L(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new lt(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){O("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Lt&&(this.reconnectDelay_=Pt,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){O("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Lt&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);while(this.onDisconnectRequestQueue_.length){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Object(o["p"])()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+l.replace(/\./g,"-")]=1,Object(o["o"])()?e["framework.cordova"]=1:Object(o["q"])()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=st.getInstance().currentlyOnline();return Object(o["n"])(this.interruptReasons_)&&e}}Ft.nextPersistentConnectionId_=0,Ft.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Dt(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Dt(N,e),r=new Dt(N,t);return 0!==this.compare(n,r)}minPost(){return Dt.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ut;class Wt extends qt{static get __EMPTY_NODE(){return Ut}static set __EMPTY_NODE(e){Ut=e}compare(e,t){return R(e.name,t.name)}isDefinedOn(e){throw Object(o["e"])("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Dt.MIN}maxPost(){return new Dt(P,Ut)}makePost(e,t){return Object(o["d"])("string"===typeof e,"KeyIndex indexValue must always be a string."),new Dt(e,Ut)}toString(){return".key"}}const Bt=new Wt;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;while(!e.isEmpty())if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Vt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Vt.RED,this.left=null!=r?r:$t.EMPTY_NODE,this.right=null!=i?i:$t.EMPTY_NODE}copy(e,t,n,r,i){return new Vt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return $t.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Vt.RED=!0,Vt.BLACK=!1;class Ht{copy(e,t,n,r,i){return this}insert(e,t,n){return new Vt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $t{constructor(e,t=$t.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new $t(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Vt.BLACK,null,null))}remove(e){return new $t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vt.BLACK,null,null))}get(e){let t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zt(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new zt(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new zt(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new zt(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gt(e,t){return R(e.name,t.name)}function Yt(e,t){return R(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kt;function Qt(e){Kt=e}$t.EMPTY_NODE=new Ht;const Jt=function(e){return"number"===typeof e?"number:"+q(e):"string:"+e},Xt=function(e){if(e.isLeafNode()){const t=e.val();Object(o["d"])("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o["h"])(t,".sv"),"Priority must be a string or number.")}else Object(o["d"])(e===Kt||e.isEmpty(),"priority of unexpected type.");Object(o["d"])(e===Kt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Zt,en,tn;class nn{constructor(e,t=nn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Object(o["d"])(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xt(this.priorityNode_)}static set __childrenNodeConstructor(e){Zt=e}static get __childrenNodeConstructor(){return Zt}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nn(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:nn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return yt(e)?this:".priority"===ht(e)?this.priorityNode_:nn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:nn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ht(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Object(o["d"])(".priority"!==n||1===dt(e),".priority must be the last token in a path"),this.updateImmediateChild(n,nn.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jt(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?q(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nn.__childrenNodeConstructor?-1:(Object(o["d"])(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=nn.VALUE_TYPE_ORDER.indexOf(t),i=nn.VALUE_TYPE_ORDER.indexOf(n);return Object(o["d"])(r>=0,"Unknown leaf type: "+t),Object(o["d"])(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}function rn(e){en=e}function on(e){tn=e}nn.VALUE_TYPE_ORDER=["object","boolean","number","string"];class sn extends qt{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?R(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Dt.MIN}maxPost(){return new Dt(P,new nn("[PRIORITY-POST]",tn))}makePost(e,t){const n=en(e);return new Dt(t,new nn("[PRIORITY-POST]",n))}toString(){return".priority"}}const cn=new sn,an=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){const t=e=>parseInt(Math.log(e)/an,10),n=e=>parseInt(Array(e+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=n(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const un=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,c;if(0===o)return null;if(1===o)return s=e[t],c=n?n(s):s,new Vt(c,s.node,Vt.BLACK,null,null);{const a=parseInt(o/2,10)+t,l=i(t,a),u=i(a+1,r);return s=e[a],c=n?n(s):s,new Vt(c,s.node,Vt.BLACK,l,u)}},o=function(t){let r=null,o=null,s=e.length;const c=function(t,r){const o=s-t,c=s;s-=t;const l=i(o+1,c),u=e[o],h=n?n(u):u;a(new Vt(h,u.node,r,null,l))},a=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?c(r,Vt.BLACK):(c(r,Vt.BLACK),c(r,Vt.RED))}return o},s=new ln(e.length),c=o(s);return new $t(r||t,c)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn;const dn={};class fn{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Object(o["d"])(dn&&cn,"ChildrenNode.ts has not been loaded"),hn=hn||new fn({".priority":dn},{".priority":cn}),hn}get(e){const t=Object(o["v"])(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $t?t:null}hasIndex(e){return Object(o["h"])(this.indexSet_,e.toString())}addIndex(e,t){Object(o["d"])(e!==Bt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Dt.Wrap);let s,c=i.getNext();while(c)r=r||e.isDefinedOn(c.node),n.push(c),c=i.getNext();s=r?un(n,e.getCompare()):dn;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const u=Object.assign({},this.indexes_);return u[a]=s,new fn(u,l)}addToIndexes(e,t){const n=Object(o["t"])(this.indexes_,(n,r)=>{const i=Object(o["v"])(this.indexSet_,r);if(Object(o["d"])(i,"Missing index implementation for "+r),n===dn){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Dt.Wrap);let o=r.getNext();while(o)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),un(n,i.getCompare())}return dn}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Dt(e.name,r))),i.insert(e,e.node)}});return new fn(n,this.indexSet_)}removeFromIndexes(e,t){const n=Object(o["t"])(this.indexes_,n=>{if(n===dn)return n;{const r=t.get(e.name);return r?n.remove(new Dt(e.name,r)):n}});return new fn(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn;class _n{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xt(this.priorityNode_),this.children_.isEmpty()&&Object(o["d"])(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pn||(pn=new _n(new $t(Yt),null,fn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pn}updatePriority(e){return this.children_.isEmpty()?this:new _n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?pn:t}}getChild(e){const t=ht(e);return null===t?this:this.getImmediateChild(t).getChild(ft(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Object(o["d"])(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Dt(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?pn:this.priorityNode_;return new _n(r,o,i)}}updateChild(e,t){const n=ht(e);if(null===n)return t;{Object(o["d"])(".priority"!==ht(e)||1===dt(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ft(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(cn,(o,s)=>{t[o]=s.val(e),n++,i&&_n.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Jt(this.getPriority().val())+":"),this.forEachChild(cn,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Dt(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Dt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Dt(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Dt.Wrap);let r=n.peek();while(null!=r&&t.compare(r,e)<0)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Dt.Wrap);let r=n.peek();while(null!=r&&t.compare(r,e)>0)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mn?-1:0}withIndex(e){if(e===Bt||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new _n(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Bt||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(cn),n=t.getIterator(cn);let r=e.getNext(),i=n.getNext();while(r&&i){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Bt?null:this.indexMap_.get(e.toString())}}_n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gn extends _n{constructor(){super(new $t(Yt),_n.EMPTY_NODE,fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _n.EMPTY_NODE}isEmpty(){return!1}}const mn=new gn;Object.defineProperties(Dt,{MIN:{value:new Dt(N,_n.EMPTY_NODE)},MAX:{value:new Dt(P,mn)}}),Wt.__EMPTY_NODE=_n.EMPTY_NODE,nn.__childrenNodeConstructor=_n,Qt(mn),on(mn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const vn=!0;function yn(e,t=null){if(null===e)return _n.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o["d"])(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){const n=e;return new nn(n,yn(t))}if(e instanceof Array||!vn){let n=_n.EMPTY_NODE;return D(e,(t,r)=>{if(Object(o["h"])(e,t)&&"."!==t.substring(0,1)){const e=yn(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(yn(t))}{const n=[];let r=!1;const i=e;if(D(i,(e,t)=>{if("."!==e.substring(0,1)){const i=yn(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Dt(e,i)))}}),0===n.length)return _n.EMPTY_NODE;const o=un(n,Gt,e=>e.name,Yt);if(r){const e=un(n,cn.getCompare());return new _n(o,yn(t),new fn({".priority":e},{".priority":cn}))}return new _n(o,yn(t),fn.Default)}}rn(yn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bn extends qt{constructor(e){super(),this.indexPath_=e,Object(o["d"])(!yt(e)&&".priority"!==ht(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?R(e.name,t.name):i}makePost(e,t){const n=yn(e),r=_n.EMPTY_NODE.updateChild(this.indexPath_,n);return new Dt(t,r)}maxPost(){const e=_n.EMPTY_NODE.updateChild(this.indexPath_,mn);return new Dt(P,e)}toString(){return gt(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends qt{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?R(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Dt.MIN}maxPost(){return Dt.MAX}makePost(e,t){const n=yn(e);return new Dt(t,n)}toString(){return".value"}}const Cn=new wn,On="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){let e=0;const t=[]})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xn(e){return{type:"value",snapshotNode:e}}function En(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Sn(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function jn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function In(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){Object(o["d"])(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(r).equals(n.getChild(r))&&c.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Sn(t,c)):Object(o["d"])(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?s.trackChildChange(En(t,n)):s.trackChildChange(jn(t,n,c))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(cn,(e,r)=>{t.hasChild(e)||n.trackChildChange(Sn(e,r))}),t.isLeafNode()||t.forEachChild(cn,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(jn(t,r,i))}else n.trackChildChange(En(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?_n.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.indexedFilter_=new Tn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=kn.getStartPost_(e),this.endPost_=kn.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,o){return this.matches(new Dt(t,n))||(n=_n.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=_n.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(_n.EMPTY_NODE);const i=this;return t.forEachChild(cn,(e,t)=>{i.matches(new Dt(e,t))||(r=r.updateImmediateChild(e,_n.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.rangedFilter_=new kn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Dt(t,n))||(n=_n.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=_n.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=_n.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;while(e.hasNext()&&n<this.limit_){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,o;if(r=t.withIndex(this.index_),r=r.updatePriority(_n.EMPTY_NODE),this.reverse_){o=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else o=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let s=0,c=!1;while(o.hasNext()){const t=o.getNext();!c&&i(e,t)<=0&&(c=!0);const a=c&&s<this.limit_&&i(t,n)<=0;a?s++:r=r.updateImmediateChild(t.name,_n.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const c=e;Object(o["d"])(c.numChildren()===this.limit_,"");const a=new Dt(t,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(c.hasChild(t)){const e=c.getImmediateChild(t);let o=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=o&&(o.name===t||c.hasChild(o.name)))o=r.getChildAfterChild(this.index_,o,this.reverse_);const h=null==o?1:s(o,a),d=u&&!n.isEmpty()&&h>=0;if(d)return null!=i&&i.trackChildChange(jn(t,n,e)),c.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Sn(t,e));const n=c.updateImmediateChild(t,_n.EMPTY_NODE),r=null!=o&&this.rangedFilter_.matches(o);return r?(null!=i&&i.trackChildChange(En(o.name,o.node)),n.updateImmediateChild(o.name,o.node)):n}}return n.isEmpty()?e:u&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Sn(l.name,l.node)),i.trackChildChange(En(t,n))),c.updateImmediateChild(t,n).updateImmediateChild(l.name,_n.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Object(o["d"])(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Object(o["d"])(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N}hasEnd(){return this.endSet_}getIndexEndValue(){return Object(o["d"])(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Object(o["d"])(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Object(o["d"])(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new Pn;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Rn(e){return e.loadsAllData()?new Tn(e.getIndex()):e.hasLimit()?new Nn(e):new kn(e)}function An(e){const t={};if(e.isDefault())return t;let n;return e.index_===cn?n="$priority":e.index_===Cn?n="$value":e.index_===Bt?n="$key":(Object(o["d"])(e.index_ instanceof bn,"Unrecognized index type!"),n=e.index_.toString()),t["orderBy"]=Object(o["y"])(n),e.startSet_&&(t["startAt"]=Object(o["y"])(e.indexStartValue_),e.startNameSet_&&(t["startAt"]+=","+Object(o["y"])(e.indexStartName_))),e.endSet_&&(t["endAt"]=Object(o["y"])(e.indexEndValue_),e.endNameSet_&&(t["endAt"]+=","+Object(o["y"])(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t["limitToFirst"]=e.limit_:t["limitToLast"]=e.limit_),t}function Mn(e){const t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==cn&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends it{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=x("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Object(o["d"])(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Ln.getListenId_(e,n),c={};this.listens_[s]=c;const a=An(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Object(o["v"])(this.listens_,s)===c){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Ln.getListenId_(e,t);delete this.listens_[n]}get(e){const t=An(e._queryParams),n=e._path.toString(),r=new o["a"];return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t["auth"]=r.accessToken),i&&i.token&&(t["ac"]=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Object(o["u"])(t);this.log_("Sending REST request for "+s);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(n&&4===c.readyState){this.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);let t=null;if(c.status>=200&&c.status<300){try{t=Object(o["s"])(c.responseText)}catch(e){j("Failed to parse JSON response for "+s+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&j("Got unsuccessful REST response for "+s+" Status: "+c.status),n(c.status);n=null}},c.open("GET",s,!0),c.send()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(){this.rootNode_=_n.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return{value:null,children:new Map}}function qn(e,t,n){if(yt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ht(t);e.children.has(r)||e.children.set(r,Dn());const i=e.children.get(r);t=ft(t),qn(i,t,n)}}function Un(e,t,n){null!==e.value?n(t,e.value):Wn(e,(e,r)=>{const i=new lt(t.toString()+"/"+e);Un(r,i,n)})}function Wn(e,t){e.children.forEach((e,n)=>{t(n,e)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&D(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=1e4,Vn=3e4,Hn=3e5;class $n{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Bn(e);const n=zn+(Vn-zn)*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;D(e,(e,r)=>{r>0&&Object(o["h"])(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*Hn))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn;function Yn(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kn(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qn(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(Gn||(Gn={}));class Jn{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Gn.ACK_USER_WRITE,this.source=Yn()}operationForChild(e){if(yt(this.path)){if(null!=this.affectedTree.value)return Object(o["d"])(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new lt(e));return new Jn(ut(),t,this.revert)}}return Object(o["d"])(ht(this.path)===e,"operationForChild called for unrelated child."),new Jn(ft(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.source=e,this.path=t,this.type=Gn.LISTEN_COMPLETE}operationForChild(e){return yt(this.path)?new Xn(this.source,ut()):new Xn(this.source,ft(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Gn.OVERWRITE}operationForChild(e){return yt(this.path)?new Zn(this.source,ut(),this.snap.getImmediateChild(e)):new Zn(this.source,ft(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Gn.MERGE}operationForChild(e){if(yt(this.path)){const t=this.children.subtree(new lt(e));return t.isEmpty()?null:t.value?new Zn(this.source,ut(),t.value):new er(this.source,ut(),t)}return Object(o["d"])(ht(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new er(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(yt(e))return this.isFullyInitialized()&&!this.filtered_;const t=ht(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function rr(e,t,n,r){const i=[],o=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(In(t.childName,t.snapshotNode))}),ir(e,i,"child_removed",t,r,n),ir(e,i,"child_added",t,r,n),ir(e,i,"child_moved",o,r,n),ir(e,i,"child_changed",t,r,n),ir(e,i,"value",t,r,n),i}function ir(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>sr(e,t,n)),s.forEach(n=>{const r=or(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function or(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function sr(e,t,n){if(null==t.childName||null==n.childName)throw Object(o["e"])("Should only compare child_ events.");const r=new Dt(t.childName,t.snapshotNode),i=new Dt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e,t){return{eventCache:e,serverCache:t}}function ar(e,t,n,r){return cr(new tr(t,n,r),e.serverCache)}function lr(e,t,n,r){return cr(e.eventCache,new tr(t,n,r))}function ur(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function hr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dr;const fr=()=>(dr||(dr=new $t(A)),dr);class pr{constructor(e,t=fr()){this.value=e,this.children=t}static fromObject(e){let t=new pr(null);return D(e,(e,n)=>{t=t.set(new lt(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ut(),value:this.value};if(yt(e))return null;{const n=ht(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(ft(e),t);if(null!=i){const e=vt(new lt(n),i.path);return{path:e,value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(yt(e))return this;{const t=ht(e),n=this.children.get(t);return null!==n?n.subtree(ft(e)):new pr(null)}}set(e,t){if(yt(e))return new pr(t,this.children);{const n=ht(e),r=this.children.get(n)||new pr(null),i=r.set(ft(e),t),o=this.children.insert(n,i);return new pr(this.value,o)}}remove(e){if(yt(e))return this.children.isEmpty()?new pr(null):new pr(null,this.children);{const t=ht(e),n=this.children.get(t);if(n){const r=n.remove(ft(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new pr(null):new pr(this.value,i)}return this}}get(e){if(yt(e))return this.value;{const t=ht(e),n=this.children.get(t);return n?n.get(ft(e)):null}}setTree(e,t){if(yt(e))return t;{const n=ht(e),r=this.children.get(n)||new pr(null),i=r.setTree(ft(e),t);let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new pr(this.value,o)}}fold(e){return this.fold_(ut(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(vt(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ut(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(yt(e))return null;{const r=ht(e),i=this.children.get(r);return i?i.findOnPath_(ft(e),vt(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ut(),t)}foreachOnPath_(e,t,n){if(yt(e))return this;{this.value&&n(t,this.value);const r=ht(e),i=this.children.get(r);return i?i.foreachOnPath_(ft(e),vt(t,r),n):new pr(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(vt(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.writeTree_=e}static empty(){return new _r(new pr(null))}}function gr(e,t,n){if(yt(t))return new _r(new pr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=bt(i,t);return o=o.updateChild(s,n),new _r(e.writeTree_.set(i,o))}{const r=new pr(n),i=e.writeTree_.setTree(t,r);return new _r(i)}}}function mr(e,t,n){let r=e;return D(n,(e,n)=>{r=gr(r,vt(t,e),n)}),r}function vr(e,t){if(yt(t))return _r.empty();{const n=e.writeTree_.setTree(t,new pr(null));return new _r(n)}}function yr(e,t){return null!=br(e,t)}function br(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(bt(n.path,t)):null}function wr(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cn,(e,n)=>{t.push(new Dt(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Dt(e,n.value))}),t}function Cr(e,t){if(yt(t))return e;{const n=br(e,t);return new _r(null!=n?new pr(n):e.writeTree_.subtree(t))}}function Or(e){return e.writeTree_.isEmpty()}function xr(e,t){return Er(ut(),e.writeTree_,t)}function Er(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(Object(o["d"])(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Er(vt(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(vt(e,".priority"),r)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(e,t){return Yr(t,e)}function jr(e,t,n,r,i){Object(o["d"])(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gr(e.visibleWrites,t,n)),e.lastWriteId=r}function Ir(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Tr(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Object(o["d"])(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,c=e.allWrites.length-1;while(i&&c>=0){const t=e.allWrites[c];t.visible&&(c>=n&&kr(t,r.path)?i=!1:Ct(r.path,t.path)&&(s=!0)),c--}if(i){if(s)return Nr(e),!0;if(r.snap)e.visibleWrites=vr(e.visibleWrites,r.path);else{const t=r.children;D(t,t=>{e.visibleWrites=vr(e.visibleWrites,vt(r.path,t))})}return!0}return!1}function kr(e,t){if(e.snap)return Ct(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ct(vt(e.path,n),t))return!0;return!1}function Nr(e){e.visibleWrites=Rr(e.allWrites,Pr,ut()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Pr(e){return e.visible}function Rr(e,t,n){let r=_r.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Ct(n,e)?(t=bt(n,e),r=gr(r,t,s.snap)):Ct(e,n)&&(t=bt(e,n),r=gr(r,ut(),s.snap.getChild(t)));else{if(!s.children)throw Object(o["e"])("WriteRecord should have .snap or .children");if(Ct(n,e))t=bt(n,e),r=mr(r,t,s.children);else if(Ct(e,n))if(t=bt(e,n),yt(t))r=mr(r,ut(),s.children);else{const e=Object(o["v"])(s.children,ht(t));if(e){const n=e.getChild(ft(t));r=gr(r,ut(),n)}}}}}return r}function Ar(e,t,n,r,i){if(r||i){const o=Cr(e.visibleWrites,t);if(!i&&Or(o))return n;if(i||null!=n||yr(o,ut())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ct(e.path,t)||Ct(t,e.path))},s=Rr(e.allWrites,o,t),c=n||_n.EMPTY_NODE;return xr(s,c)}return null}{const r=br(e.visibleWrites,t);if(null!=r)return r;{const r=Cr(e.visibleWrites,t);if(Or(r))return n;if(null!=n||yr(r,ut())){const e=n||_n.EMPTY_NODE;return xr(r,e)}return null}}}function Mr(e,t,n){let r=_n.EMPTY_NODE;const i=br(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(cn,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Cr(e.visibleWrites,t);return n.forEachChild(cn,(e,t)=>{const n=xr(Cr(i,new lt(e)),t);r=r.updateImmediateChild(e,n)}),wr(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}{const n=Cr(e.visibleWrites,t);return wr(n).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}}function Lr(e,t,n,r,i){Object(o["d"])(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=vt(t,n);if(yr(e.visibleWrites,s))return null;{const t=Cr(e.visibleWrites,s);return Or(t)?i.getChild(n):xr(t,i.getChild(n))}}function Fr(e,t,n,r){const i=vt(t,n),o=br(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){const t=Cr(e.visibleWrites,i);return xr(t,r.getNode().getImmediateChild(n))}return null}function Dr(e,t){return br(e.visibleWrites,t)}function qr(e,t,n,r,i,o,s){let c;const a=Cr(e.visibleWrites,t),l=br(a,ut());if(null!=l)c=l;else{if(null==n)return[];c=xr(a,n)}if(c=c.withIndex(s),c.isEmpty()||c.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?c.getReverseIteratorFrom(r,s):c.getIteratorFrom(r,s);let a=n.getNext();while(a&&e.length<i)0!==t(a,r)&&e.push(a),a=n.getNext();return e}}function Ur(){return{visibleWrites:_r.empty(),allWrites:[],lastWriteId:-1}}function Wr(e,t,n,r){return Ar(e.writeTree,e.treePath,t,n,r)}function Br(e,t){return Mr(e.writeTree,e.treePath,t)}function zr(e,t,n,r){return Lr(e.writeTree,e.treePath,t,n,r)}function Vr(e,t){return Dr(e.writeTree,vt(e.treePath,t))}function Hr(e,t,n,r,i,o){return qr(e.writeTree,e.treePath,t,n,r,i,o)}function $r(e,t,n){return Fr(e.writeTree,e.treePath,t,n)}function Gr(e,t){return Yr(vt(e.treePath,t),e.writeTree)}function Yr(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Object(o["d"])("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o["d"])(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,jn(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Sn(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,En(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o["e"])("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,jn(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const Jr=new Qr;class Xr{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $r(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hr(this.viewCache_),i=Hr(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e){return{filter:e}}function ei(e,t){Object(o["d"])(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Object(o["d"])(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function ti(e,t,n,r,i){const s=new Kr;let c,a;if(n.type===Gn.OVERWRITE){const l=n;l.source.fromUser?c=oi(e,t,l.path,l.snap,r,i,s):(Object(o["d"])(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!yt(l.path),c=ii(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Gn.MERGE){const l=n;l.source.fromUser?c=ci(e,t,l.path,l.children,r,i,s):(Object(o["d"])(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),c=li(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Gn.ACK_USER_WRITE){const o=n;c=o.revert?di(e,t,o.path,r,i,s):ui(e,t,o.path,o.affectedTree,r,i,s)}else{if(n.type!==Gn.LISTEN_COMPLETE)throw Object(o["e"])("Unknown operation type: "+n.type);c=hi(e,t,n.path,r,s)}const l=s.getChanges();return ni(t,c,l),{viewCache:c,changes:l}}function ni(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ur(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(xn(ur(t)))}}function ri(e,t,n,r,i,s){const c=t.eventCache;if(null!=Vr(r,n))return t;{let a,l;if(yt(n))if(Object(o["d"])(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=hr(t),i=n instanceof _n?n:_n.EMPTY_NODE,o=Br(r,i);a=e.filter.updateFullNode(t.eventCache.getNode(),o,s)}else{const n=Wr(r,hr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=ht(n);if(".priority"===u){Object(o["d"])(1===dt(n),"Can't have a priority with additional path components");const i=c.getNode();l=t.serverCache.getNode();const s=zr(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):c.getNode()}else{const o=ft(n);let h;if(c.isCompleteForChild(u)){l=t.serverCache.getNode();const e=zr(r,n,c.getNode(),l);h=null!=e?c.getNode().getImmediateChild(u).updateChild(o,e):c.getNode().getImmediateChild(u)}else h=$r(r,u,t.serverCache);a=null!=h?e.filter.updateChild(c.getNode(),u,h,o,i,s):c.getNode()}}return ar(t,a,c.isFullyInitialized()||yt(n),e.filter.filtersNodes())}}function ii(e,t,n,r,i,o,s,c){const a=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(yt(n))l=u.updateFullNode(a.getNode(),r,null);else if(u.filtersNodes()&&!a.isFiltered()){const e=a.getNode().updateChild(n,r);l=u.updateFullNode(a.getNode(),e,null)}else{const e=ht(n);if(!a.isCompleteForPath(n)&&dt(n)>1)return t;const i=ft(n),o=a.getNode().getImmediateChild(e),s=o.updateChild(i,r);l=".priority"===e?u.updatePriority(a.getNode(),s):u.updateChild(a.getNode(),e,s,i,Jr,null)}const h=lr(t,l,a.isFullyInitialized()||yt(n),u.filtersNodes()),d=new Xr(i,h,o);return ri(e,h,n,i,d,c)}function oi(e,t,n,r,i,o,s){const c=t.eventCache;let a,l;const u=new Xr(i,t,o);if(yt(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=ar(t,l,!0,e.filter.filtersNodes());else{const i=ht(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),a=ar(t,l,c.isFullyInitialized(),c.isFiltered());else{const o=ft(n),l=c.getNode().getImmediateChild(i);let h;if(yt(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===pt(o)&&e.getChild(mt(o)).isEmpty()?e:e.updateChild(o,r):_n.EMPTY_NODE}if(l.equals(h))a=t;else{const n=e.filter.updateChild(c.getNode(),i,h,o,u,s);a=ar(t,n,c.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function si(e,t){return e.eventCache.isCompleteForChild(t)}function ci(e,t,n,r,i,o,s){let c=t;return r.foreach((r,a)=>{const l=vt(n,r);si(t,ht(l))&&(c=oi(e,c,l,a,i,o,s))}),r.foreach((r,a)=>{const l=vt(n,r);si(t,ht(l))||(c=oi(e,c,l,a,i,o,s))}),c}function ai(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function li(e,t,n,r,i,o,s,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a,l=t;a=yt(n)?r:new pr(null).setTree(n,r);const u=t.serverCache.getNode();return a.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const a=t.serverCache.getNode().getImmediateChild(n),u=ai(e,a,r);l=ii(e,l,new lt(n),u,i,o,s,c)}}),a.children.inorderTraversal((n,r)=>{const a=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!a){const a=t.serverCache.getNode().getImmediateChild(n),u=ai(e,a,r);l=ii(e,l,new lt(n),u,i,o,s,c)}}),l}function ui(e,t,n,r,i,o,s){if(null!=Vr(i,n))return t;const c=t.serverCache.isFiltered(),a=t.serverCache;if(null!=r.value){if(yt(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ii(e,t,n,a.getNode().getChild(n),i,o,c,s);if(yt(n)){let r=new pr(null);return a.getNode().forEachChild(Bt,(e,t)=>{r=r.set(new lt(e),t)}),li(e,t,n,r,i,o,c,s)}return t}{let l=new pr(null);return r.foreach((e,t)=>{const r=vt(n,e);a.isCompleteForPath(r)&&(l=l.set(e,a.getNode().getChild(r)))}),li(e,t,n,l,i,o,c,s)}}function hi(e,t,n,r,i){const o=t.serverCache,s=lr(t,o.getNode(),o.isFullyInitialized()||yt(n),o.isFiltered());return ri(e,s,n,r,Jr,i)}function di(e,t,n,r,i,s){let c;if(null!=Vr(r,n))return t;{const a=new Xr(r,t,i),l=t.eventCache.getNode();let u;if(yt(n)||".priority"===ht(n)){let n;if(t.serverCache.isFullyInitialized())n=Wr(r,hr(t));else{const e=t.serverCache.getNode();Object(o["d"])(e instanceof _n,"serverChildren would be complete if leaf node"),n=Br(r,e)}n=n,u=e.filter.updateFullNode(l,n,s)}else{const i=ht(n);let o=$r(r,i,t.serverCache);null==o&&t.serverCache.isCompleteForChild(i)&&(o=l.getImmediateChild(i)),u=null!=o?e.filter.updateChild(l,i,o,ft(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,_n.EMPTY_NODE,ft(n),a,s):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Wr(r,hr(t)),c.isLeafNode()&&(u=e.filter.updateFullNode(u,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=Vr(r,ut()),ar(t,u,c,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Tn(n.getIndex()),i=Rn(n);this.processor_=Zr(i);const o=t.serverCache,s=t.eventCache,c=r.updateFullNode(_n.EMPTY_NODE,o.getNode(),null),a=i.updateFullNode(_n.EMPTY_NODE,s.getNode(),null),l=new tr(c,o.isFullyInitialized(),r.filtersNodes()),u=new tr(a,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=cr(u,l),this.eventGenerator_=new nr(this.query_)}get query(){return this.query_}}function pi(e){return e.viewCache_.serverCache.getNode()}function _i(e,t){const n=hr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!yt(t)&&!n.getImmediateChild(ht(t)).isEmpty())?n.getChild(t):null}function gi(e){return 0===e.eventRegistrations_.length}function mi(e,t){e.eventRegistrations_.push(t)}function vi(e,t,n){const r=[];if(n){Object(o["d"])(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function yi(e,t,n,r){t.type===Gn.MERGE&&null!==t.source.queryId&&(Object(o["d"])(hr(e.viewCache_),"We should always have a full cache before handling merges"),Object(o["d"])(ur(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=ti(e.processor_,i,t,n,r);return ei(e.processor_,s.viewCache),Object(o["d"])(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,wi(e,s.changes,s.viewCache.eventCache.getNode(),null)}function bi(e,t){const n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){const e=n.getNode();e.forEachChild(cn,(e,t)=>{r.push(En(e,t))})}return n.isFullyInitialized()&&r.push(xn(n.getNode())),wi(e,r,n.getNode(),t)}function wi(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return rr(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ci,Oi;class xi{constructor(){this.views=new Map}}function Ei(e){Object(o["d"])(!Ci,"__referenceConstructor has already been defined"),Ci=e}function Si(){return Object(o["d"])(Ci,"Reference.ts has not been loaded"),Ci}function ji(e){return 0===e.views.size}function Ii(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Object(o["d"])(null!=s,"SyncTree gave us an op for an invalid query."),yi(s,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(yi(o,t,n,r));return i}}function Ti(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Wr(n,i?r:null),o=!1;e?o=!0:r instanceof _n?(e=Br(n,r),o=!1):(e=_n.EMPTY_NODE,o=!1);const s=cr(new tr(e,o,!1),new tr(r,i,!1));return new fi(t,s)}return s}function ki(e,t,n,r,i,o){const s=Ti(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),mi(s,n),bi(s,n)}function Ni(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const c=Li(e);if("default"===i)for(const[a,l]of e.views.entries())s=s.concat(vi(l,n,r)),gi(l)&&(e.views.delete(a),l.query._queryParams.loadsAllData()||o.push(l.query));else{const t=e.views.get(i);t&&(s=s.concat(vi(t,n,r)),gi(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return c&&!Li(e)&&o.push(new(Si())(t._repo,t._path)),{removed:o,events:s}}function Pi(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ri(e,t){let n=null;for(const r of e.views.values())n=n||_i(r,t);return n}function Ai(e,t){const n=t._queryParams;if(n.loadsAllData())return Fi(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Mi(e,t){return null!=Ai(e,t)}function Li(e){return null!=Fi(e)}function Fi(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(e){Object(o["d"])(!Oi,"__referenceConstructor has already been defined"),Oi=e}function qi(){return Object(o["d"])(Oi,"Reference.ts has not been loaded"),Oi}let Ui=1;class Wi{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pr(null),this.pendingWriteTree_=Ur(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bi(e,t,n,r,i){return jr(e.pendingWriteTree_,t,n,r,i),i?Zi(e,new Zn(Yn(),t,n)):[]}function zi(e,t,n=!1){const r=Ir(e.pendingWriteTree_,t),i=Tr(e.pendingWriteTree_,t);if(i){let t=new pr(null);return null!=r.snap?t=t.set(ut(),!0):D(r.children,e=>{t=t.set(new lt(e),!0)}),Zi(e,new Jn(r.path,t,n))}return[]}function Vi(e,t,n){return Zi(e,new Zn(Kn(),t,n))}function Hi(e,t,n){const r=pr.fromObject(n);return Zi(e,new er(Kn(),t,r))}function $i(e,t){return Zi(e,new Xn(Kn(),t))}function Gi(e,t,n){const r=oo(e,n);if(r){const n=so(r),i=n.path,o=n.queryId,s=bt(i,t),c=new Xn(Qn(o),s);return co(e,i,c)}return[]}function Yi(e,t,n,r){const i=t._path,o=e.syncPointTree_.get(i);let s=[];if(o&&("default"===t._queryIdentifier||Mi(o,t))){const c=Ni(o,t,n,r);ji(o)&&(e.syncPointTree_=e.syncPointTree_.remove(i));const a=c.removed;s=c.events;const l=-1!==a.findIndex(e=>e._queryParams.loadsAllData()),u=e.syncPointTree_.findOnPath(i,(e,t)=>Li(t));if(l&&!u){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=ao(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=no(e,r);e.listenProvider_.startListening(lo(i),ro(e,i),o.hashFn,o.onComplete)}}}if(!u&&a.length>0&&!r)if(l){const n=null;e.listenProvider_.stopListening(lo(t),n)}else a.forEach(t=>{const n=e.queryToTagMap.get(io(t));e.listenProvider_.stopListening(lo(t),n)});uo(e,a)}return s}function Ki(e,t,n,r){const i=oo(e,r);if(null!=i){const r=so(i),o=r.path,s=r.queryId,c=bt(o,t),a=new Zn(Qn(s),c,n);return co(e,o,a)}return[]}function Qi(e,t,n,r){const i=oo(e,r);if(i){const r=so(i),o=r.path,s=r.queryId,c=bt(o,t),a=pr.fromObject(n),l=new er(Qn(s),c,a);return co(e,o,l)}return[]}function Ji(e,t,n){const r=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=bt(e,r);i=i||Ri(t,n),s=s||Li(t)});let c,a=e.syncPointTree_.get(r);if(a?(s=s||Li(a),i=i||Ri(a,ut())):(a=new xi,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i)c=!0;else{c=!1,i=_n.EMPTY_NODE;const t=e.syncPointTree_.subtree(r);t.foreachChild((e,t)=>{const n=Ri(t,ut());n&&(i=i.updateImmediateChild(e,n))})}const l=Mi(a,t);if(!l&&!t._queryParams.loadsAllData()){const n=io(t);Object(o["d"])(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=ho();e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}const u=Sr(e.pendingWriteTree_,r);let h=ki(a,t,n,u,i,c);if(!l&&!s){const n=Ai(a,t);h=h.concat(fo(e,t,n))}return h}function Xi(e,t,n){const r=!0,i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=bt(e,t),i=Ri(n,r);if(i)return i});return Ar(i,t,o,n,r)}function Zi(e,t){return eo(t,e.syncPointTree_,null,Sr(e.pendingWriteTree_,ut()))}function eo(e,t,n,r){if(yt(e.path))return to(e,t,n,r);{const i=t.get(ut());null==n&&null!=i&&(n=Ri(i,ut()));let o=[];const s=ht(e.path),c=e.operationForChild(s),a=t.children.get(s);if(a&&c){const e=n?n.getImmediateChild(s):null,t=Gr(r,s);o=o.concat(eo(c,a,e,t))}return i&&(o=o.concat(Ii(i,e,r,n))),o}}function to(e,t,n,r){const i=t.get(ut());null==n&&null!=i&&(n=Ri(i,ut()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,c=Gr(r,t),a=e.operationForChild(t);a&&(o=o.concat(to(a,i,s,c)))}),i&&(o=o.concat(Ii(i,e,r,n))),o}function no(e,t){const n=t.query,r=ro(e,n);return{hashFn:()=>{const e=pi(t)||_n.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?Gi(e,n._path,r):$i(e,n._path);{const r=B(t,n);return Yi(e,n,null,r)}}}}function ro(e,t){const n=io(t);return e.queryToTagMap.get(n)}function io(e){return e._path.toString()+"$"+e._queryIdentifier}function oo(e,t){return e.tagToQueryMap.get(t)}function so(e){const t=e.indexOf("$");return Object(o["d"])(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lt(e.substr(0,t))}}function co(e,t,n){const r=e.syncPointTree_.get(t);Object(o["d"])(r,"Missing sync point for query tag that we're tracking");const i=Sr(e.pendingWriteTree_,t);return Ii(r,n,i,null)}function ao(e){return e.fold((e,t,n)=>{if(t&&Li(t)){const e=Fi(t);return[e]}{let e=[];return t&&(e=Pi(t)),D(n,(t,n)=>{e=e.concat(n)}),e}})}function lo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(qi())(e._repo,e._path):e}function uo(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=io(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}function ho(){return Ui++}function fo(e,t,n){const r=t._path,i=ro(e,t),s=no(e,n),c=e.listenProvider_.startListening(lo(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)Object(o["d"])(!Li(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!yt(e)&&t&&Li(t))return[Fi(t).query];{let e=[];return t&&(e=e.concat(Pi(t).map(e=>e.query))),D(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(lo(r),ro(e,r))}}return c}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new po(t)}node(){return this.node_}}class _o{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=vt(this.path_,e);return new _o(this.syncTree_,t)}node(){return Xi(this.syncTree_,this.path_)}}const go=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},mo=function(e,t,n){return e&&"object"===typeof e?(Object(o["d"])(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?vo(e[".sv"],t,n):"object"===typeof e[".sv"]?yo(e[".sv"],t):void Object(o["d"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vo=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:Object(o["d"])(!1,"Unexpected server value: "+e)}},yo=function(e,t,n){e.hasOwnProperty("increment")||Object(o["d"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e["increment"];"number"!==typeof r&&Object(o["d"])(!1,"Unexpected increment value: "+r);const i=t.node();if(Object(o["d"])(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i,c=s.getValue();return"number"!==typeof c?r:c+r},bo=function(e,t,n,r){return Co(t,new _o(n,e),r)},wo=function(e,t,n){return Co(e,new po(t),n)};function Co(e,t,n){const r=e.getPriority().val(),i=mo(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=mo(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new nn(o,yn(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new nn(i))),r.forEachChild(cn,(e,r)=>{const i=Co(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function xo(e,t){let n=t instanceof lt?t:new lt(t),r=e,i=ht(n);while(null!==i){const e=Object(o["v"])(r.node.children,i)||{children:{},childCount:0};r=new Oo(i,r,e),n=ft(n),i=ht(n)}return r}function Eo(e){return e.node.value}function So(e,t){e.node.value=t,Ro(e)}function jo(e){return e.node.childCount>0}function Io(e){return void 0===Eo(e)&&!jo(e)}function To(e,t){D(e.node.children,(n,r)=>{t(new Oo(n,e,r))})}function ko(e,t,n,r){n&&!r&&t(e),To(e,e=>{ko(e,t,!0,r)}),n&&r&&t(e)}function No(e,t,n){let r=n?e:e.parent;while(null!==r){if(t(r))return!0;r=r.parent}return!1}function Po(e){return new lt(null===e.parent?e.name:Po(e.parent)+"/"+e.name)}function Ro(e){null!==e.parent&&Ao(e.parent,e.name,e)}function Ao(e,t,n){const r=Io(n),i=Object(o["h"])(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ro(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Ro(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=/[\[\].#$\/\u0000-\u001F\u007F]/,Lo=/[\[\].#$\u0000-\u001F\u007F]/,Fo=10485760,Do=function(e){return"string"===typeof e&&0!==e.length&&!Mo.test(e)},qo=function(e){return"string"===typeof e&&0!==e.length&&!Lo.test(e)},Uo=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qo(e)},Wo=function(e,t,n,r){r&&void 0===t||Bo(Object(o["k"])(e,"value"),t,n)},Bo=function(e,t,n){const r=n instanceof lt?new Ot(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+jt(r));if("function"===typeof t)throw new Error(e+"contains a function "+jt(r)+" with contents = "+t.toString());if(T(t))throw new Error(e+"contains "+t.toString()+" "+jt(r));if("string"===typeof t&&t.length>Fo/3&&Object(o["w"])(t)>Fo)throw new Error(e+"contains a string greater than "+Fo+" utf8 bytes "+jt(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(D(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Do(t)))throw new Error(e+" contains an invalid key ("+t+") "+jt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');xt(r,t),Bo(e,o,r),Et(r)}),n&&i)throw new Error(e+' contains ".value" child '+jt(r)+" in addition to actual children.")}},zo=function(e,t,n,r){if((!r||void 0!==n)&&!qo(n))throw new Error(Object(o["k"])(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vo=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zo(e,t,n,r)},Ho=function(e,t){if(".info"===ht(t))throw new Error(e+" failed = Can't modify data under /.info/")},$o=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Do(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!Uo(n))throw new Error(Object(o["k"])(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Go{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yo(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||wt(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ko(e,t,n){Yo(e,n),Jo(e,e=>wt(e,t))}function Qo(e,t,n){Yo(e,n),Jo(e,e=>Ct(e,t)||Ct(t,e))}function Jo(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const o=i.path;t(o)?(Xo(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Xo(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();b&&O("event: "+n.toString()),G(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="repo_interrupt",es=25;class ts{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Go,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dn(),this.transactionQueueTree_=new Oo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ns(e,t,n){if(e.stats_=ge(e.repoInfo_),e.forceRestClient_||Y())e.server_=new Ln(e.repoInfo_,(t,n,r,i)=>{os(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>ss(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o["y"])(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ft(e.repoInfo_,t,(t,n,r,i)=>{os(e,t,n,r,i)},t=>{ss(e,t)},t=>{cs(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=me(e.repoInfo_,()=>new $n(e.stats_,e.server_)),e.infoData_=new Fn,e.infoSyncTree_=new Wi({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Vi(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),as(e,"connected",!1),e.serverSyncTree_=new Wi({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);Qo(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function rs(e){const t=e.infoData_.getNode(new lt(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function is(e){return go({timestamp:rs(e)})}function os(e,t,n,r,i){e.dataUpdateCount++;const s=new lt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let c=[];if(i)if(r){const t=Object(o["t"])(n,e=>yn(e));c=Qi(e.serverSyncTree_,s,t,i)}else{const t=yn(n);c=Ki(e.serverSyncTree_,s,t,i)}else if(r){const t=Object(o["t"])(n,e=>yn(e));c=Hi(e.serverSyncTree_,s,t)}else{const t=yn(n);c=Vi(e.serverSyncTree_,s,t)}let a=s;c.length>0&&(a=bs(e,s)),Qo(e.eventQueue_,a,c)}function ss(e,t){as(e,"connected",t),!1===t&&hs(e)}function cs(e,t){D(t,(t,n)=>{as(e,t,n)})}function as(e,t,n){const r=new lt("/.info/"+t),i=yn(n);e.infoData_.updateSnapshot(r,i);const o=Vi(e.infoSyncTree_,r,i);Qo(e.eventQueue_,r,o)}function ls(e){return e.nextWriteId_++}function us(e,t,n,r,i){_s(e,"set",{path:t.toString(),value:n,priority:r});const o=is(e),s=yn(n,r),c=Xi(e.serverSyncTree_,t),a=wo(s,c,o),l=ls(e),u=Bi(e.serverSyncTree_,t,a,l,!0);Yo(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||j("set at "+t+" failed: "+n);const s=zi(e.serverSyncTree_,l,!o);Qo(e.eventQueue_,t,s),gs(e,i,n,r)});const h=Ss(e,t);bs(e,h),Qo(e.eventQueue_,h,[])}function hs(e){_s(e,"onDisconnectEvents");const t=is(e),n=Dn();Un(e.onDisconnect_,ut(),(r,i)=>{const o=bo(r,i,e.serverSyncTree_,t);qn(n,r,o)});let r=[];Un(n,ut(),(t,n)=>{r=r.concat(Vi(e.serverSyncTree_,t,n));const i=Ss(e,t);bs(e,i)}),e.onDisconnect_=Dn(),Qo(e.eventQueue_,ut(),r)}function ds(e,t,n){let r;r=".info"===ht(t._path)?Ji(e.infoSyncTree_,t,n):Ji(e.serverSyncTree_,t,n),Ko(e.eventQueue_,t._path,r)}function fs(e,t,n){let r;r=".info"===ht(t._path)?Yi(e.infoSyncTree_,t,n):Yi(e.serverSyncTree_,t,n),Ko(e.eventQueue_,t._path,r)}function ps(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Zo)}function _s(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),O(n,...t)}function gs(e,t,n,r){t&&G(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function ms(e,t,n){return Xi(e.serverSyncTree_,t,n)||_n.EMPTY_NODE}function vs(e,t=e.transactionQueueTree_){if(t||Es(e,t),Eo(t)){const n=Os(e,t);Object(o["d"])(n.length>0,"Sending zero length transaction queue");const r=n.every(e=>0===e.status);r&&ys(e,Po(t),n)}else jo(t)&&To(t,t=>{vs(e,t)})}function ys(e,t,n){const r=n.map(e=>e.currentWriteId),i=ms(e,t,r);let s=i;const c=i.hash();for(let u=0;u<n.length;u++){const e=n[u];Object(o["d"])(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=bt(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{_s(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(zi(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Es(e,xo(e.transactionQueueTree_,t)),vs(e,e.transactionQueueTree_),Qo(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)G(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{j("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}bs(e,t)}},c)}function bs(e,t){const n=Cs(e,t),r=Po(n),i=Os(e,n);return ws(e,i,r),r}function ws(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),c=s.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const s=t[a],l=bt(n,s.path);let u,h=!1;if(Object(o["d"])(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,i=i.concat(zi(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=es)h=!0,u="maxretry",i=i.concat(zi(e.serverSyncTree_,s.currentWriteId,!0));else{const n=ms(e,s.path,c);s.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){Bo("transaction failed: Data returned ",r,s.path);let t=yn(r);const a="object"===typeof r&&null!=r&&Object(o["h"])(r,".priority");a||(t=t.updatePriority(n.getPriority()));const l=s.currentWriteId,u=is(e),h=wo(t,n,u);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=h,s.currentWriteId=ls(e),c.splice(c.indexOf(l),1),i=i.concat(Bi(e.serverSyncTree_,s.path,h,s.currentWriteId,s.applyLocally)),i=i.concat(zi(e.serverSyncTree_,l,!0))}else h=!0,u="nodata",i=i.concat(zi(e.serverSyncTree_,s.currentWriteId,!0))}Qo(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===u?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(u),!1,null))))}Es(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)G(r[o]);vs(e,e.transactionQueueTree_)}function Cs(e,t){let n,r=e.transactionQueueTree_;n=ht(t);while(null!==n&&void 0===Eo(r))r=xo(r,n),t=ft(t),n=ht(t);return r}function Os(e,t){const n=[];return xs(e,t,n),n.sort((e,t)=>e.order-t.order),n}function xs(e,t,n){const r=Eo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);To(t,t=>{xs(e,t,n)})}function Es(e,t){const n=Eo(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,So(t,n.length>0?n:void 0)}To(t,t=>{Es(e,t)})}function Ss(e,t){const n=Po(Cs(e,t)),r=xo(e.transactionQueueTree_,t);return No(r,t=>{js(e,t)}),js(e,r),ko(r,t=>{js(e,t)}),n}function js(e,t){const n=Eo(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Object(o["d"])(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Object(o["d"])(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(zi(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?So(t,void 0):n.length=s+1,Qo(e.eventQueue_,Po(t),i);for(let e=0;e<r.length;e++)G(r[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}function Ts(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):j(`Invalid query segment '${n}' in query '${e}'`)}return t}const ks=function(e,t){const n=Ns(e),r=n.namespace;"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||I();const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ue(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new lt(n.pathString)}},Ns=function(e){let t="",n="",r="",i="",o="",s=!0,c="https",a=443;if("string"===typeof e){let l=e.indexOf("//");l>=0&&(c=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=Is(e.substring(u,h)));const d=Ts(e.substring(Math.min(e.length,h)));l=t.indexOf(":"),l>=0?(s="https"===c||"wss"===c,a=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d["ns"])}return{host:t,port:a,domain:n,subdomain:r,secure:s,scheme:c,pathString:i,namespace:o}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ps{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Object(o["y"])(this.snapshot.exportVal())}}class Rs{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Object(o["d"])(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ms{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return yt(this._path)?null:pt(this._path)}get ref(){return new Ls(this._repo,this._path)}get _queryIdentifier(){const e=Mn(this._queryParams),t=L(e);return"{}"===t?"default":t}get _queryObject(){return Mn(this._queryParams)}isEqual(e){if(e=Object(o["l"])(e),!(e instanceof Ms))return!1;const t=this._repo===e._repo,n=wt(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+_t(this._path)}}class Ls extends Ms{constructor(e,t){super(e,t,new Pn,!1)}get parent(){const e=mt(this._path);return null===e?null:new Ls(this._repo,e)}get root(){let e=this;while(null!==e.parent)e=e.parent;return e}}class Fs{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new lt(e),n=qs(this.ref,e);return new Fs(this._node.getChild(t),n,cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;const t=this._node;return!!t.forEachChild(this._index,(t,n)=>e(new Fs(n,qs(this.ref,t),cn)))}hasChild(e){const t=new lt(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ds(e,t){return e=Object(o["l"])(e),e._checkNotDeleted("ref"),void 0!==t?qs(e._root,t):e._root}function qs(e,t){return e=Object(o["l"])(e),null===ht(e._path)?Vo("child","path",t,!1):zo("child","path",t,!1),new Ls(e._repo,vt(e._path,t))}function Us(e,t){e=Object(o["l"])(e),Ho("set",e._path),Wo("set",t,e._path,!1);const n=new o["a"];return us(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class Ws{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ps("value",this,new Fs(e.snapshotNode,new Ls(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Rs(this,e,t):null}matches(e){return e instanceof Ws&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Bs{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Rs(this,e,t):null}createEvent(e,t){Object(o["d"])(null!=e.childName,"Child events should have a childName.");const n=qs(new Ls(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ps(e.type,this,new Fs(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Bs&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function zs(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{fs(e._repo,e,c),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new As(n,o||void 0),c="value"===t?new Ws(s):new Bs(t,s);return ds(e._repo,e,c),()=>fs(e._repo,e,c)}function Vs(e,t,n,r){return zs(e,"value",t,n,r)}Ei(Ls),Di(Ls);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Hs="FIREBASE_DATABASE_EMULATOR_HOST",$s={};let Gs=!1;function Ys(t,n,r,i,o){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");let c,a=ks(s,o),l=a.repoInfo,u=void 0;"undefined"!==typeof e&&(u=Object({NODE_ENV:"production",BASE_URL:"/"})[Hs]),u?(c=!0,s=`http://${u}?ns=${l.namespace}`,a=ks(s,o),l=a.repoInfo):c=!a.repoInfo.secure;const h=o&&c?new X(X.OWNER):new J(t.name,t.options,n);$o("Invalid Firebase Database URL",a),yt(a.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Qs(l,t,h,new Q(t.name,r));return new Js(d,t)}function Ks(e,t){const n=$s[t];n&&n[e.key]===e||S(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ps(e),delete n[e.key]}function Qs(e,t,n,r){let i=$s[t.name];i||(i={},$s[t.name]=i);let o=i[e.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ts(e,Gs,n,r),i[e.toURLString()]=o,o}class Js{constructor(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ns(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ls(this._repo,ut())),this._rootInternal}_delete(){return this._checkNotDeleted("delete"),Ks(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&S("Cannot call "+e+" on a deleted database.")}}function Xs(e=Object(r["d"])(),t){return Object(r["b"])(e,"database-exp").getImmediate({identifier:t})}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zs(e){u(r["a"]),Object(r["c"])(new i["a"]("database-exp",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-exp").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Ys(n,r,i,t)},"PUBLIC").setMultipleInstances(!0)),Object(r["f"])(c,a,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs()}).call(this,n("4362"))},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=n("5692"),s=n("7c73"),c=n("69f3").get,a=n("fce3"),l=n("107c"),u=RegExp.prototype.exec,h=o("native-string-replace",String.prototype.replace),d=u,f=function(){var e=/a/,t=/b*/g;return u.call(e,"a"),u.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),p=i.UNSUPPORTED_Y||i.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],g=f||_||p||a||l;g&&(d=function(e){var t,n,i,o,a,l,g,m=this,v=c(m),y=v.raw;if(y)return y.lastIndex=m.lastIndex,t=d.call(y,e),m.lastIndex=y.lastIndex,t;var b=v.groups,w=p&&m.sticky,C=r.call(m),O=m.source,x=0,E=e;if(w&&(C=C.replace("y",""),-1===C.indexOf("g")&&(C+="g"),E=String(e).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==e[m.lastIndex-1])&&(O="(?: "+O+")",E=" "+E,x++),n=new RegExp("^(?:"+O+")",C)),_&&(n=new RegExp("^"+O+"$(?!\\s)",C)),f&&(i=m.lastIndex),o=u.call(w?n:m,E),w?o?(o.input=o.input.slice(x),o[0]=o[0].slice(x),o.index=m.lastIndex,m.lastIndex+=o[0].length):m.lastIndex=0:f&&o&&(m.lastIndex=m.global?o.index+o[0].length:i),_&&o&&o.length>1&&h.call(o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&b)for(o.groups=l=s(null),a=0;a<b.length;a++)g=b[a],l[g[0]]=o[g[1]];return o}),e.exports=d},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=c[s(e)];return n==l||n!=a&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=o.data={},a=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),c=n("7b0b"),a=n("50c4"),l=n("8418"),u=n("65f0"),h=n("1dde"),d=n("b622"),f=n("2d00"),p=d("isConcatSpreadable"),_=9007199254740991,g="Maximum allowed index exceeded",m=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=h("concat"),y=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},b=!m||!v;r({target:"Array",proto:!0,forced:b},{concat:function(e){var t,n,r,i,o,s=c(this),h=u(s,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],y(o)){if(i=a(o.length),d+i>_)throw TypeError(g);for(n=0;n<i;n++,d++)n in o&&l(h,d,o[n])}else{if(d>=_)throw TypeError(g);l(h,d++,o)}return h.length=d,h}})},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),c=n("3f8c"),a=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,l,!1,!0),c[l]=a,e}},"9f7f":function(e,t,n){var r=n("d039"),i=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"9ff4":function(e,t,n){"use strict";(function(e){function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return Q})),n.d(t,"f",(function(){return Z})),n.d(t,"g",(function(){return re})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return te})),n.d(t,"j",(function(){return P})),n.d(t,"k",(function(){return X})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return R})),n.d(t,"n",(function(){return F})),n.d(t,"o",(function(){return o})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return $})),n.d(t,"r",(function(){return A})),n.d(t,"s",(function(){return I})),n.d(t,"t",(function(){return U})),n.d(t,"u",(function(){return j})),n.d(t,"v",(function(){return H})),n.d(t,"w",(function(){return W})),n.d(t,"x",(function(){return G})),n.d(t,"y",(function(){return g})),n.d(t,"z",(function(){return M})),n.d(t,"A",(function(){return c})),n.d(t,"B",(function(){return D})),n.d(t,"C",(function(){return q})),n.d(t,"D",(function(){return v})),n.d(t,"E",(function(){return y})),n.d(t,"F",(function(){return r})),n.d(t,"G",(function(){return d})),n.d(t,"H",(function(){return a})),n.d(t,"I",(function(){return k})),n.d(t,"J",(function(){return b})),n.d(t,"K",(function(){return ee})),n.d(t,"L",(function(){return ie})),n.d(t,"M",(function(){return V}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c=r(s);function a(e){if(R(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=a(D(r)?h(r):r);if(i)for(const e in i)t[e]=i[e]}return t}if(U(e))return e}const l=/;(?![^(]*\))/g,u=/:(.+)/;function h(e){const t={};return e.split(l).forEach(e=>{if(e){const n=e.split(u);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function d(e){let t="";if(D(e))t=e;else if(R(e))for(let n=0;n<e.length;n++){const r=d(e[n]);r&&(t+=r+" ")}else if(U(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const f="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",p="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",_=r(f),g=r(p);function m(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=v(e[r],t[r]);return n}function v(e,t){if(e===t)return!0;let n=L(e),r=L(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=R(e),r=R(t),n||r)return!(!n||!r)&&m(e,t);if(n=U(e),r=U(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!v(e[n],t[n]))return!1}}return String(e)===String(t)}function y(e,t){return e.findIndex(e=>v(e,t))}const b=e=>null==e?"":U(e)?JSON.stringify(e,w,2):String(e),w=(e,t)=>A(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[t+" =>"]=n,e),{})}:M(t)?{[`Set(${t.size})`]:[...t.values()]}:!U(t)||R(t)||H(t)?t:String(t),C={},O=[],x=()=>{},E=()=>!1,S=/^on[^a-z]/,j=e=>S.test(e),I=e=>e.startsWith("onUpdate:"),T=Object.assign,k=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},N=Object.prototype.hasOwnProperty,P=(e,t)=>N.call(e,t),R=Array.isArray,A=e=>"[object Map]"===z(e),M=e=>"[object Set]"===z(e),L=e=>e instanceof Date,F=e=>"function"===typeof e,D=e=>"string"===typeof e,q=e=>"symbol"===typeof e,U=e=>null!==e&&"object"===typeof e,W=e=>U(e)&&F(e.then)&&F(e.catch),B=Object.prototype.toString,z=e=>B.call(e),V=e=>z(e).slice(8,-1),H=e=>"[object Object]"===z(e),$=e=>D(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},K=/-(\w)/g,Q=Y(e=>e.replace(K,(e,t)=>t?t.toUpperCase():"")),J=/\B([A-Z])/g,X=Y(e=>e.replace(J,"-$1").toLowerCase()),Z=Y(e=>e.charAt(0).toUpperCase()+e.slice(1)),ee=Y(e=>e?"on"+Z(e):""),te=(e,t)=>e!==t&&(e===e||t===t),ne=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},re=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ie=e=>{const t=parseFloat(e);return isNaN(t)?e:t}}).call(this,n("c8ba"))},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),c=n("d066"),a=n("4840"),l=n("cdf9"),u=n("6eeb"),h=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=a(this,c("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&"function"==typeof o){var d=c("Promise").prototype["finally"];o.prototype["finally"]!==d&&u(o.prototype,"finally",d,{unsafe:!0})}},a8e9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return q})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return R})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return A})),n.d(t,"u",(function(){return M})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return W})),n.d(t,"x",(function(){return U})),n.d(t,"y",(function(){return j}));var r=n("fbb0"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=e[n++];var s=e[n++],c=e[n++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&c)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,c=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=o>>2,h=(3&o)<<4|c>>4,d=(15&c)<<2|l>>6,f=63&l;a||(f=64,s||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,c=s?n[e.charAt(i)]:0;++i;var a=i<e.length,l=a?n[e.charAt(i)]:64;++i;var u=i<e.length,h=u?n[e.charAt(i)]:64;if(++i,null==o||null==c||null==l||null==h)throw Error();var d=o<<2|c>>4;if(r.push(d),64!==l){var f=c<<4&240|l>>2;if(r.push(f),64!==h){var p=l<<6&192|h;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=c(e);return l.encodeByteArray(t,!0)},h=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&p(r)&&(e[r]=f(e[r],t[r]));return e}function p(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=Object(r["a"])({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[l.encodeString(JSON.stringify(n),!1),l.encodeString(JSON.stringify(c),!1),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function v(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function b(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w="FirebaseError",C=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=w,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return Object(r["b"])(t,e),t}(Error),O=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?x(o,r):"Error",c=this.serviceName+": "+s+" ("+i+").",a=new C(i,c,r);return a},e}();function x(e,t){return e.replace(E,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var E=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=S(h(o[0])||""),n=S(h(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(s){}return{header:t,claims:n,data:r,signature:i}},T=function(e){var t=I(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},k=function(e){var t=I(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function R(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],c=o[1];n(s,c)}return t.length?"&"+t.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var L=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,c=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=u^a&(l^u),s=1518500249):(o=a^l^u,s=1859775393):r<60?(o=a&l|u&(a|l),s=2400959708):(o=a^l^u,s=3395469782);i=(c<<5|c>>>27)+o+h+s+n[r]&4294967295;h=u,u=l,l=4294967295&(a<<30|a>>>2),a=c,c=i}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<t){if(0===o)while(r<=n)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<t)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();(function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=F(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}})();function F(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function D(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e,t){return e+" failed: "+t+" argument "}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var U=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate.");var c=e.charCodeAt(r)-56320;i=65536+(s<<10)+c}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},W=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function B(e){return e&&e._delegate?e._delegate:e}}).call(this,n("c8ba"))},abfd:function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f}));var o,s=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(o||(o={}));var c={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},a=o.INFO,l=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),u=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=l[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?c[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){s.forEach((function(t){t.setLogLevel(e)}))}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=c[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var c=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:c,args:i,type:t.name})}},r=0,i=s;r<i.length;r++){var a=i[r];n(a)}}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},addb:function(e,t){var n=Math.floor,r=function(e,t){var s=e.length,c=n(s/2);return s<8?i(e,t):o(r(e.slice(0,c),t),r(e.slice(c),t),t)},i=function(e,t){var n,r,i=e.length,o=1;while(o<i){r=o,n=e[o];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},o=function(e,t,n){var r=e.length,i=t.length,o=0,s=0,c=[];while(o<r||s<i)o<r&&s<i?c.push(n(e[o],t[s])<=0?e[o++]:t[s++]):c.push(o<r?e[o++]:t[s++]);return c};e.exports=r},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),c=n("e163"),a=n("9112"),l=n("5135"),u=n("b622"),h=n("c430"),d=u("iterator"),f=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=c(c(o)),i!==Object.prototype&&(r=i)):f=!0);var _=void 0==r||s((function(){var e={};return r[d].call(e)!==e}));_&&(r={}),h&&!_||l(r,d)||a(r,d,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,c=/^\s*function ([^ (]*)/,a="name";r&&!(a in o)&&i(o,a,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(e){return""}}})},b575:function(e,t,n){var r,i,o,s,c,a,l,u,h=n("da84"),d=n("06cf").f,f=n("2cf4").set,p=n("1cdc"),_=n("a4b4"),g=n("605d"),m=h.MutationObserver||h.WebKitMutationObserver,v=h.document,y=h.process,b=h.Promise,w=d(h,"queueMicrotask"),C=w&&w.value;C||(r=function(){var e,t;g&&(e=y.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},p||g||_||!m||!v?b&&b.resolve?(l=b.resolve(void 0),l.constructor=b,u=l.then,s=function(){u.call(l,r)}):s=g?function(){y.nextTick(r)}:function(){f.call(h,r)}:(c=!0,a=v.createTextNode(""),new m(r).observe(a,{characterData:!0}),s=function(){a.data=c=!c})),e.exports=C||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),c=n("4930"),a=n("fdbf"),l=i("wks"),u=r.Symbol,h=a?u:u&&u.withoutSetter||s;e.exports=function(e){return o(l,e)&&(c||"string"==typeof l[e])||(c&&o(u,e)?l[e]=u[e]:l[e]=h("Symbol."+e)),l[e]}},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),c=n("65f0"),a=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,_,g,m){for(var v,y,b=o(p),w=i(b),C=r(_,g,3),O=s(w.length),x=0,E=m||c,S=t?E(p,O):n||d?E(p,0):void 0;O>x;x++)if((f||x in w)&&(v=w[x],y=C(v,x,b),e))if(t)S[x]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:a.call(S,v)}else switch(e){case 4:return!1;case 7:a.call(S,v)}return h?-1:l||u?u:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,c=i(e),a=0,l=[];for(n in c)!r(s,n)&&r(c,n)&&l.push(n);while(t.length>a)r(c,n=t[a++])&&(~o(l,n)||l.push(n));return l}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("9263"),o=n("d039"),s=n("b622"),c=n("9112"),a=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,u){var h=s(e),d=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),f=d&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[a]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!d||!f||n){var p=/./[h],_=t(h,""[e],(function(e,t,n,r,o){var s=t.exec;return s===i||s===l.exec?d&&!o?{done:!0,value:p.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,_[0]),r(l,h,_[1])}u&&c(l[h],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,n){var r=n("342f");e.exports=/MSIE|Trident/.test(r)},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),c=s,a=0;a<s;a++)if(i[a]!==o[a]){c=a;break}var l=[];for(a=c;a<i.length;a++)l.push("..");return l=l.concat(o.slice(c)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47!==c)-1===r&&(i=!1,r=s+1),46===c?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),c=o("IE_PROTO"),a=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),c=n("7dd0"),a="Array Iterator",l=s.set,u=s.getterFor(a);e.exports=c(Array,"Array",(function(e,t){l(this,{type:a,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,c=n("23e7"),a=n("c430"),l=n("da84"),u=n("d066"),h=n("fea9"),d=n("6eeb"),f=n("e2cc"),p=n("d2bb"),_=n("d44e"),g=n("2626"),m=n("861d"),v=n("1c0b"),y=n("19aa"),b=n("8925"),w=n("2266"),C=n("1c7e"),O=n("4840"),x=n("2cf4").set,E=n("b575"),S=n("cdf9"),j=n("44de"),I=n("f069"),T=n("e667"),k=n("69f3"),N=n("94ca"),P=n("b622"),R=n("6069"),A=n("605d"),M=n("2d00"),L=P("species"),F="Promise",D=k.get,q=k.set,U=k.getterFor(F),W=h&&h.prototype,B=h,z=W,V=l.TypeError,H=l.document,$=l.process,G=I.f,Y=G,K=!!(H&&H.createEvent&&l.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,J="unhandledrejection",X="rejectionhandled",Z=0,ee=1,te=2,ne=1,re=2,ie=!1,oe=N(F,(function(){var e=b(B),t=e!==String(B);if(!t&&66===M)return!0;if(a&&!z["finally"])return!0;if(M>=51&&/native code/.test(e))return!1;var n=new B((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};return i[L]=r,ie=n.then((function(){}))instanceof r,!ie||!t&&R&&!Q})),se=oe||!C((function(e){B.all(e)["catch"]((function(){}))})),ce=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ae=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){var r=e.value,i=e.state==ee,o=0;while(n.length>o){var s,c,a,l=n[o++],u=i?l.ok:l.fail,h=l.resolve,d=l.reject,f=l.domain;try{u?(i||(e.rejection===re&&de(e),e.rejection=ne),!0===u?s=r:(f&&f.enter(),s=u(r),f&&(f.exit(),a=!0)),s===l.promise?d(V("Promise-chain cycle")):(c=ce(s))?c.call(s,h,d):h(s)):d(r)}catch(p){f&&!a&&f.exit(),d(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ue(e)}))}},le=function(e,t,n){var r,i;K?(r=H.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Q&&(i=l["on"+e])?i(r):e===J&&j("Unhandled promise rejection",n)},ue=function(e){x.call(l,(function(){var t,n=e.facade,r=e.value,i=he(e);if(i&&(t=T((function(){A?$.emit("unhandledRejection",r,n):le(J,n,r)})),e.rejection=A||he(e)?re:ne,t.error))throw t.value}))},he=function(e){return e.rejection!==ne&&!e.parent},de=function(e){x.call(l,(function(){var t=e.facade;A?$.emit("rejectionHandled",t):le(X,t,e.value)}))},fe=function(e,t,n){return function(r){e(t,r,n)}},pe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=te,ae(e,!0))},_e=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw V("Promise can't be resolved itself");var r=ce(t);r?E((function(){var n={done:!1};try{r.call(t,fe(_e,n,e),fe(pe,n,e))}catch(i){pe(n,i,e)}})):(e.value=t,e.state=ee,ae(e,!1))}catch(i){pe({done:!1},i,e)}}};if(oe&&(B=function(e){y(this,B,F),v(e),r.call(this);var t=D(this);try{e(fe(_e,t),fe(pe,t))}catch(n){pe(t,n)}},z=B.prototype,r=function(e){q(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=f(z,{then:function(e,t){var n=U(this),r=G(O(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?$.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&ae(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=fe(_e,t),this.reject=fe(pe,t)},I.f=G=function(e){return e===B||e===o?new i(e):Y(e)},!a&&"function"==typeof h&&W!==Object.prototype)){s=W.then,ie||(d(W,"then",(function(e,t){var n=this;return new B((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),d(W,"catch",z["catch"],{unsafe:!0}));try{delete W.constructor}catch(ge){}p&&p(W,z)}c({global:!0,wrap:!0,forced:oe},{Promise:B}),_(B,F,!1,!0),g(F),o=u(F),c({target:F,stat:!0,forced:oe},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),c({target:F,stat:!0,forced:a||oe},{resolve:function(e){return S(a&&this===o?B:this,e)}}),c({target:F,stat:!0,forced:se},{all:function(e){var t=this,n=G(t),r=n.resolve,i=n.reject,o=T((function(){var n=v(t.resolve),o=[],s=0,c=1;w(e,(function(e){var a=s++,l=!1;o.push(void 0),c++,n.call(t,e).then((function(e){l||(l=!0,o[a]=e,--c||r(o))}),i)})),--c||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=G(t),r=n.reject,i=T((function(){var i=v(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),c=s.f,a=o.f,l=0;l<n.length;l++){var u=n[l];r(e,u)||c(e,u,a(t,u))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),c="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),s))?n:c?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fbb0:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.create;Object.create},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fce3:function(e,t,n){var r=n("d039");e.exports=r((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise},ffa6:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{a(r.next(e))}catch(t){o(t)}}function c(e){try{a(r["throw"](e))}catch(t){o(t)}}function a(e){e.done?n(e.value):i(e.value).then(s,c)}a((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(e){return function(t){return a([e,t])}}function a(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(c){i={error:c}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}Object.create;var a=n("a8e9"),l=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),u="[DEFAULT]",h=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a["a"];if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(f(e))try{this.getOrInitializeService({instanceIdentifier:u})}catch(p){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var c=s(i.value,2),a=c[0],l=c[1],h=this.normalizeInstanceIdentifier(a);try{var d=this.getOrInitializeService({instanceIdentifier:h});l.resolve(d)}catch(p){}}}catch(_){t={error:_}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=u),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(c(c([],s(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),s(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=u),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,c=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:c,options:i});try{for(var l=o(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var h=s(u.value,2),d=h[0],f=h[1],p=this.normalizeInstanceIdentifier(d);c===p&&f.resolve(a)}}catch(_){t={error:_}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var s=o(i),c=s.next();!c.done;c=s.next()){var a=c.value;try{a(e,t)}catch(l){}}}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d(t),options:r}),this.instances.set(t,i),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(o){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=u),this.component?this.component.multipleInstances?e:u:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function d(e){return e===u?void 0:e}function f(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new h(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()}}]);
//# sourceMappingURL=chunk-vendors.d2c1afa3.js.map