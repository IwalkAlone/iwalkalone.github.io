var app=function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(n)}function a(e){return"function"==typeof e}function o(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function c(e,n){e.appendChild(n)}function l(e,n,t){e.insertBefore(n,t||null)}function u(e){e.parentNode.removeChild(e)}function i(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function f(e){return document.createElement(e)}function s(e){return document.createTextNode(e)}function h(){return s(" ")}function p(){return s("")}function d(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function g(e,n,t){null==t?e.removeAttribute(n):e.setAttribute(n,t)}function _(e,n){n=""+n,e.data!==n&&(e.data=n)}function v(e,n){for(let t=0;t<e.options.length;t+=1){const r=e.options[t];if(r.__value===n)return void(r.selected=!0)}}let m;function y(e){m=e}const $=[],b=[],x=[],P=[],T=Promise.resolve();let k=!1;function C(e){x.push(e)}function O(){const e=new Set;do{for(;$.length;){const e=$.shift();y(e),N(e.$$)}for(;b.length;)b.pop()();for(let n=0;n<x.length;n+=1){const t=x[n];e.has(t)||(t(),e.add(t))}x.length=0}while($.length);for(;P.length;)P.pop()();k=!1}function N(e){e.fragment&&(e.update(e.dirty),r(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(C))}const j=new Set;function E(e,n){e.$$.dirty||($.push(e),k||(k=!0,T.then(O)),e.$$.dirty=t()),e.$$.dirty[n]=!0}function M(o,c,l,u,i,f){const s=m;y(o);const h=c.props||{},p=o.$$={fragment:null,ctx:null,props:f,update:e,not_equal:i,bound:t(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:t(),dirty:null};let d=!1;var g,_,v;p.ctx=l?l(o,h,(e,n)=>{p.ctx&&i(p.ctx[e],p.ctx[e]=n)&&(p.bound[e]&&p.bound[e](n),d&&E(o,e))}):h,p.update(),d=!0,r(p.before_update),p.fragment=u(p.ctx),c.target&&(c.hydrate?p.fragment.l((v=c.target,Array.from(v.childNodes))):p.fragment.c(),c.intro&&((g=o.$$.fragment)&&g.i&&(j.delete(g),g.i(_))),function(e,t,o){const{fragment:c,on_mount:l,on_destroy:u,after_update:i}=e.$$;c.m(t,o),C(()=>{const t=l.map(n).filter(a);u?u.push(...t):r(t),e.$$.on_mount=[]}),i.forEach(C)}(o,c.target,c.anchor),O()),y(s)}class S{$destroy(){var n,t;t=1,(n=this).$$.fragment&&(r(n.$$.on_destroy),n.$$.fragment.d(t),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(){}}function w(e,n,t){const r=Object.create(e);return r.race=n[t],r}function A(e,n,t){const r=Object.create(e);return r.player=n[t],r.index=t,r}function L(e,n,t){const r=Object.create(e);return r.race=n[t],r}function B(e,n,t){const r=Object.create(e);return r.ban=n[t],r.each_value_3=n,r.index=t,r}function q(e,n,t){const r=Object.create(e);return r.player=n[t],r.index=t,r}function X(e,n,t){const r=Object.create(e);return r.player=n[t],r.each_value_5=n,r.index=t,r}function Y(e){var n,t,a,o,i,p,_,v=e.index+1;function m(){e.input_input_handler.call(o,e)}function y(){return e.click_handler(e)}return{c(){n=f("div"),t=s(v),a=s(". "),o=f("input"),i=h(),(p=f("button")).textContent="Удалить",g(o,"type","text"),_=[d(o,"input",m),d(p,"click",y)]},m(r,u){l(r,n,u),c(n,t),c(n,a),c(n,o),o.value=e.player.name,c(n,i),c(n,p)},p(n,t){e=t,n.players&&o.value!==e.player.name&&(o.value=e.player.name)},d(e){e&&u(n),r(_)}}}function F(n){var t;return{c(){t=s("Рас на игрока: 2")},m(e,n){l(e,t,n)},p:e,d(e){e&&u(t)}}}function G(e){var n,t,a,o,c,i,p;return{c(){(n=f("span")).textContent="Рас на игрока:",t=h(),a=f("input"),o=s(" 2\n\t"),c=f("input"),i=s(" 3"),e.$$binding_groups[0].push(a),g(a,"type","radio"),a.__value=2,a.value=a.__value,e.$$binding_groups[0].push(c),g(c,"type","radio"),c.__value=3,c.value=c.__value,p=[d(a,"change",e.input0_change_handler),d(c,"change",e.input1_change_handler)]},m(r,u){l(r,n,u),l(r,t,u),l(r,a,u),a.checked=a.__value===e.racesPerPlayer,l(r,o,u),l(r,c,u),c.checked=c.__value===e.racesPerPlayer,l(r,i,u)},p(e,n){e.racesPerPlayer&&(a.checked=a.__value===n.racesPerPlayer),e.racesPerPlayer&&(c.checked=c.__value===n.racesPerPlayer)},d(l){l&&(u(n),u(t),u(a)),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(a),1),l&&(u(o),u(c)),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(c),1),l&&u(i),r(p)}}}function H(e){var n,t,r=e.race;return{c(){n=f("option"),t=s(r),n.__value=e.race,n.value=n.__value},m(e,r){l(e,n,r),c(n,t)},p(e,t){n.value=n.__value},d(e){e&&u(n)}}}function J(e){for(var n,t,r,a=e.races,o=[],s=0;s<a.length;s+=1)o[s]=H(L(e,a,s));function h(){e.select_change_handler.call(n,e)}return{c(){n=f("select"),(t=f("option")).textContent="Выбрать";for(var a=0;a<o.length;a+=1)o[a].c();t.__value="",t.value=t.__value,void 0===e.ban&&C(h),r=d(n,"change",h)},m(r,a){l(r,n,a),c(n,t);for(var u=0;u<o.length;u+=1)o[u].m(n,null);v(n,e.ban)},p(t,r){if(e=r,t.races){a=e.races;for(var c=0;c<a.length;c+=1){const r=L(e,a,c);o[c]?o[c].p(t,r):(o[c]=H(r),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}t.players&&v(n,e.ban)},d(e){e&&u(n),i(o,e),r()}}}function K(e){for(var n,t,r,a,o,p=e.player.name,d=e.player.bans,g=[],v=0;v<d.length;v+=1)g[v]=J(B(e,d,v));return{c(){n=f("h2"),t=f("p"),r=s(p),a=s(" - Баны"),o=h();for(var e=0;e<g.length;e+=1)g[e].c()},m(e,u){l(e,n,u),c(n,t),c(t,r),c(t,a),c(n,o);for(var i=0;i<g.length;i+=1)g[i].m(n,null)},p(e,t){if(e.players&&p!==(p=t.player.name)&&_(r,p),e.players||e.races){d=t.player.bans;for(var a=0;a<d.length;a+=1){const r=B(t,d,a);g[a]?g[a].p(e,r):(g[a]=J(r),g[a].c(),g[a].m(n,null))}for(;a<g.length;a+=1)g[a].d(1);g.length=d.length}},d(e){e&&u(n),i(g,e)}}}function U(e){for(var n,t,r,a=e.output,o=[],c=0;c<a.length;c+=1)o[c]=Z(A(e,a,c));return{c(){(n=f("h1")).textContent="Рассадка",t=h();for(var e=0;e<o.length;e+=1)o[e].c();r=p(),g(n,"id","output")},m(e,a){l(e,n,a),l(e,t,a);for(var c=0;c<o.length;c+=1)o[c].m(e,a);l(e,r,a)},p(e,n){if(e.output){a=n.output;for(var t=0;t<a.length;t+=1){const c=A(n,a,t);o[t]?o[t].p(e,c):(o[t]=Z(c),o[t].c(),o[t].m(r.parentNode,r))}for(;t<o.length;t+=1)o[t].d(1);o.length=a.length}},d(e){e&&(u(n),u(t)),i(o,e),e&&u(r)}}}function V(e){var n;return{c(){(n=f("span")).textContent="(Председатель)"},m(e,t){l(e,n,t)},d(e){e&&u(n)}}}function W(e){var n,t,r=e.race;return{c(){n=f("li"),t=s(r)},m(e,r){l(e,n,r),c(n,t)},p(e,n){e.output&&r!==(r=n.race)&&_(t,r)},d(e){e&&u(n)}}}function Z(e){for(var n,t,r,a,o,p,d,g,v,m,y,$=e.index+1,b=e.player.name,x=0==e.index&&V(),P=e.player.raceOptions,T=[],k=0;k<P.length;k+=1)T[k]=W(w(e,P,k));return{c(){n=f("h3"),t=f("span"),r=s($),a=s(". "),o=s(b),p=h(),x&&x.c(),d=h(),(g=f("span")).textContent="выбирает из:",v=h(),m=f("ul");for(var e=0;e<T.length;e+=1)T[e].c();y=h()},m(e,u){l(e,n,u),c(n,t),c(t,r),c(t,a),c(t,o),c(n,p),x&&x.m(n,null),c(n,d),c(n,g),l(e,v,u),l(e,m,u);for(var i=0;i<T.length;i+=1)T[i].m(m,null);c(m,y)},p(e,t){if(e.output&&b!==(b=t.player.name)&&_(o,b),0==t.index?x||((x=V()).c(),x.m(n,d)):x&&(x.d(1),x=null),e.output){P=t.player.raceOptions;for(var r=0;r<P.length;r+=1){const n=w(t,P,r);T[r]?T[r].p(e,n):(T[r]=W(n),T[r].c(),T[r].m(m,y))}for(;r<T.length;r+=1)T[r].d(1);T.length=P.length}},d(e){e&&u(n),x&&x.d(),e&&(u(v),u(m)),i(T,e)}}}function z(n){for(var t,r,a,o,c,s,g,_,v,m=n.players,y=[],$=0;$<m.length;$+=1)y[$]=Y(X(n,m,$));function b(e){return e.players.length<6?G:F}var x=b(n),P=x(n),T=n.players,k=[];for($=0;$<T.length;$+=1)k[$]=K(q(n,T,$));var C=n.output.length>0&&U(n);return{c(){(t=f("h1")).textContent="Игроки",r=h();for(var e=0;e<y.length;e+=1)y[e].c();a=h(),P.c(),o=h();for(e=0;e<k.length;e+=1)k[e].c();c=h(),(s=f("button")).textContent="Запуск",g=h(),C&&C.c(),_=p(),v=d(s,"click",n.generate)},m(e,n){l(e,t,n),l(e,r,n);for(var u=0;u<y.length;u+=1)y[u].m(e,n);l(e,a,n),P.m(e,n),l(e,o,n);for(u=0;u<k.length;u+=1)k[u].m(e,n);l(e,c,n),l(e,s,n),l(e,g,n),C&&C.m(e,n),l(e,_,n)},p(e,n){if(e.players){m=n.players;for(var t=0;t<m.length;t+=1){const r=X(n,m,t);y[t]?y[t].p(e,r):(y[t]=Y(r),y[t].c(),y[t].m(a.parentNode,a))}for(;t<y.length;t+=1)y[t].d(1);y.length=m.length}if(x===(x=b(n))&&P?P.p(e,n):(P.d(1),(P=x(n))&&(P.c(),P.m(o.parentNode,o))),e.players||e.races){T=n.players;for(t=0;t<T.length;t+=1){const r=q(n,T,t);k[t]?k[t].p(e,r):(k[t]=K(r),k[t].c(),k[t].m(c.parentNode,c))}for(;t<k.length;t+=1)k[t].d(1);k.length=T.length}n.output.length>0?C?C.p(e,n):((C=U(n)).c(),C.m(_.parentNode,_)):C&&(C.d(1),C=null)},i:e,o:e,d(e){e&&(u(t),u(r)),i(y,e),e&&u(a),P.d(e),e&&u(o),i(k,e),e&&(u(c),u(s),u(g)),C&&C.d(e),e&&u(_),v()}}}function D(e){return{name:e,bans:["","","","",""]}}function I(e){e=e.slice();for(let r=0;r<e.length-1;r++){let a=(n=r,t=e.length-1,Math.floor(Math.random()*(t+1-n))+n),o=e[r];e[r]=e[a],e[a]=o}var n,t;return e}function Q(e,n){for(var t=0;t<e.length;t++)if(n.includes(e[t]))return!0;return!1}function R(e,n,t){let r=["The Arborec","The Barony of Letnev","The Clan of Saar","The Embers of Muaat","The Emirates of Hacan","The Federation of Sol","The Ghosts of Creuss","The L1Z1X Mindnet","The Mentak Coalition","The Naalu Collective","The Nekro Virus","The Sardakk Norr","The Universities of Jol-Nar","The Winnu","The Xxcha Kingdom","The Yin Brotherhood","The Yssaril Tribes"],a=["Максим","Кристина","Екатерина","Александр","Алексей","Сергей"].map(D),o=3,c=[];function l(e){t("players",a=a.slice(0,e).concat(a.slice(e+1,a.length)))}return{races:r,players:a,racesPerPlayer:o,output:c,deletePlayer:l,generate:function(){6==a.length&&t("racesPerPlayer",o=2);let e=I(a);!function e(n,t){let r=I(t);for(var a=0;a<n.length;a++){let c=n[a],l=r.slice(a*o,(a+1)*o);if(Q(l,c.bans)){e(n,t);break}c.raceOptions=l}}(a,r),t("output",c=e)},input_input_handler:function({player:e,each_value_5:n,index:o}){n[o].name=this.value,t("players",a),t("races",r)},click_handler:function({index:e}){return l(e)},input0_change_handler:function(){o=this.__value,t("racesPerPlayer",o)},input1_change_handler:function(){o=this.__value,t("racesPerPlayer",o)},select_change_handler:function({ban:e,each_value_3:n,index:o}){n[o]=function(e){const n=e.querySelector(":checked")||e.options[0];return n&&n.__value}(this),t("players",a),t("races",r)},$$binding_groups:[[]]}}return new class extends S{constructor(e){super(),M(this,e,R,z,o,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
