var app=function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(n)}function a(e){return"function"==typeof e}function c(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function o(e,n){e.appendChild(n)}function l(e,n,t){e.insertBefore(n,t||null)}function u(e){e.parentNode.removeChild(e)}function i(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function f(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function s(){return p(" ")}function d(){return p("")}function h(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function g(e,n,t){null==t?e.removeAttribute(n):e.setAttribute(n,t)}function _(e,n){n=""+n,e.data!==n&&(e.data=n)}function v(e,n){for(let t=0;t<e.options.length;t+=1){const r=e.options[t];if(r.__value===n)return void(r.selected=!0)}}let m;function y(e){m=e}const $=[],b=[],x=[],P=[],k=Promise.resolve();let O=!1;function C(e){x.push(e)}function j(){const e=new Set;do{for(;$.length;){const e=$.shift();y(e),N(e.$$)}for(;b.length;)b.pop()();for(let n=0;n<x.length;n+=1){const t=x[n];e.has(t)||(t(),e.add(t))}x.length=0}while($.length);for(;P.length;)P.pop()();O=!1}function N(e){e.fragment&&(e.update(e.dirty),r(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(C))}const E=new Set;function w(e,n){e.$$.dirty||($.push(e),O||(O=!0,k.then(j)),e.$$.dirty=t()),e.$$.dirty[n]=!0}function A(c,o,l,u,i,f){const p=m;y(c);const s=o.props||{},d=c.$$={fragment:null,ctx:null,props:f,update:e,not_equal:i,bound:t(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:t(),dirty:null};let h=!1;var g,_,v;d.ctx=l?l(c,s,(e,n)=>{d.ctx&&i(d.ctx[e],d.ctx[e]=n)&&(d.bound[e]&&d.bound[e](n),h&&w(c,e))}):s,d.update(),h=!0,r(d.before_update),d.fragment=u(d.ctx),o.target&&(o.hydrate?d.fragment.l((v=o.target,Array.from(v.childNodes))):d.fragment.c(),o.intro&&((g=c.$$.fragment)&&g.i&&(E.delete(g),g.i(_))),function(e,t,c){const{fragment:o,on_mount:l,on_destroy:u,after_update:i}=e.$$;o.m(t,c),C(()=>{const t=l.map(n).filter(a);u?u.push(...t):r(t),e.$$.on_mount=[]}),i.forEach(C)}(c,o.target,o.anchor),j()),y(p)}class M{$destroy(){var n,t;t=1,(n=this).$$.fragment&&(r(n.$$.on_destroy),n.$$.fragment.d(t),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(){}}function S(e,n,t){const r=Object.create(e);return r.race=n[t],r}function q(e,n,t){const r=Object.create(e);return r.player=n[t],r.index=t,r}function L(e,n,t){const r=Object.create(e);return r.race=n[t],r}function B(e,n,t){const r=Object.create(e);return r.ban=n[t],r.each_value_3=n,r.index=t,r}function T(e,n,t){const r=Object.create(e);return r.player=n[t],r.index=t,r}function z(e,n,t){const r=Object.create(e);return r.player=n[t],r.each_value_5=n,r.index=t,r}function D(e){var n,t,a,c,i,d,_,v=e.index+1;function m(){e.input_input_handler.call(c,e)}function y(){return e.click_handler(e)}return{c(){n=f("div"),t=p(v),a=p(". "),c=f("input"),i=s(),(d=f("button")).textContent="Удалить",g(c,"type","text"),_=[h(c,"input",m),h(d,"click",y)]},m(r,u){l(r,n,u),o(n,t),o(n,a),o(n,c),c.value=e.player.name,o(n,i),o(n,d)},p(n,t){e=t,n.players&&c.value!==e.player.name&&(c.value=e.player.name)},d(e){e&&u(n),r(_)}}}function F(n){var t;return{c(){t=p("Рас на игрока: 2")},m(e,n){l(e,t,n)},p:e,d(e){e&&u(t)}}}function G(e){var n,t,a,c,o,i,d;return{c(){(n=f("span")).textContent="Рас на игрока:",t=s(),a=f("input"),c=p(" 2\n\t"),o=f("input"),i=p(" 3"),e.$$binding_groups[0].push(a),g(a,"type","radio"),a.__value=2,a.value=a.__value,e.$$binding_groups[0].push(o),g(o,"type","radio"),o.__value=3,o.value=o.__value,d=[h(a,"change",e.input0_change_handler),h(o,"change",e.input1_change_handler)]},m(r,u){l(r,n,u),l(r,t,u),l(r,a,u),a.checked=a.__value===e.racesPerPlayer,l(r,c,u),l(r,o,u),o.checked=o.__value===e.racesPerPlayer,l(r,i,u)},p(e,n){e.racesPerPlayer&&(a.checked=a.__value===n.racesPerPlayer),e.racesPerPlayer&&(o.checked=o.__value===n.racesPerPlayer)},d(l){l&&(u(n),u(t),u(a)),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(a),1),l&&(u(c),u(o)),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(o),1),l&&u(i),r(d)}}}function H(e){var n,t,r=e.race;return{c(){n=f("option"),t=p(r),n.__value=e.race,n.value=n.__value},m(e,r){l(e,n,r),o(n,t)},p(e,t){n.value=n.__value},d(e){e&&u(n)}}}function I(e){for(var n,t,r,a=e.races,c=[],p=0;p<a.length;p+=1)c[p]=H(L(e,a,p));function s(){e.select_change_handler.call(n,e)}return{c(){n=f("select"),(t=f("option")).textContent="Выбрать";for(var a=0;a<c.length;a+=1)c[a].c();t.__value="",t.value=t.__value,void 0===e.ban&&C(s),r=h(n,"change",s)},m(r,a){l(r,n,a),o(n,t);for(var u=0;u<c.length;u+=1)c[u].m(n,null);v(n,e.ban)},p(t,r){if(e=r,t.races){a=e.races;for(var o=0;o<a.length;o+=1){const r=L(e,a,o);c[o]?c[o].p(t,r):(c[o]=H(r),c[o].c(),c[o].m(n,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=a.length}t.players&&v(n,e.ban)},d(e){e&&u(n),i(c,e),r()}}}function J(e){for(var n,t,r,a,c,d=e.player.name,h=e.player.bans,g=[],v=0;v<h.length;v+=1)g[v]=I(B(e,h,v));return{c(){n=f("h2"),t=f("p"),r=p(d),a=p(" - Баны"),c=s();for(var e=0;e<g.length;e+=1)g[e].c()},m(e,u){l(e,n,u),o(n,t),o(t,r),o(t,a),o(n,c);for(var i=0;i<g.length;i+=1)g[i].m(n,null)},p(e,t){if(e.players&&d!==(d=t.player.name)&&_(r,d),e.players||e.races){h=t.player.bans;for(var a=0;a<h.length;a+=1){const r=B(t,h,a);g[a]?g[a].p(e,r):(g[a]=I(r),g[a].c(),g[a].m(n,null))}for(;a<g.length;a+=1)g[a].d(1);g.length=h.length}},d(e){e&&u(n),i(g,e)}}}function K(e){for(var n,t,r,a=e.output,c=[],o=0;o<a.length;o+=1)c[o]=U(q(e,a,o));return{c(){(n=f("h1")).textContent="Рассадка",t=s();for(var e=0;e<c.length;e+=1)c[e].c();r=d(),g(n,"id","output")},m(e,a){l(e,n,a),l(e,t,a);for(var o=0;o<c.length;o+=1)c[o].m(e,a);l(e,r,a)},p(e,n){if(e.output){a=n.output;for(var t=0;t<a.length;t+=1){const o=q(n,a,t);c[t]?c[t].p(e,o):(c[t]=U(o),c[t].c(),c[t].m(r.parentNode,r))}for(;t<c.length;t+=1)c[t].d(1);c.length=a.length}},d(e){e&&(u(n),u(t)),i(c,e),e&&u(r)}}}function Q(e){var n;return{c(){(n=f("span")).textContent="(Председатель)"},m(e,t){l(e,n,t)},d(e){e&&u(n)}}}function R(e){var n,t,r=e.race;return{c(){n=f("li"),t=p(r)},m(e,r){l(e,n,r),o(n,t)},p(e,n){e.output&&r!==(r=n.race)&&_(t,r)},d(e){e&&u(n)}}}function U(e){for(var n,t,r,a,c,d,h,g,v,m,y,$=e.index+1,b=e.player.name,x=0==e.index&&Q(),P=e.player.raceOptions,k=[],O=0;O<P.length;O+=1)k[O]=R(S(e,P,O));return{c(){n=f("h3"),t=f("span"),r=p($),a=p(". "),c=p(b),d=s(),x&&x.c(),h=s(),(g=f("span")).textContent="выбирает из:",v=s(),m=f("ul");for(var e=0;e<k.length;e+=1)k[e].c();y=s()},m(e,u){l(e,n,u),o(n,t),o(t,r),o(t,a),o(t,c),o(n,d),x&&x.m(n,null),o(n,h),o(n,g),l(e,v,u),l(e,m,u);for(var i=0;i<k.length;i+=1)k[i].m(m,null);o(m,y)},p(e,t){if(e.output&&b!==(b=t.player.name)&&_(c,b),0==t.index?x||((x=Q()).c(),x.m(n,h)):x&&(x.d(1),x=null),e.output){P=t.player.raceOptions;for(var r=0;r<P.length;r+=1){const n=S(t,P,r);k[r]?k[r].p(e,n):(k[r]=R(n),k[r].c(),k[r].m(m,y))}for(;r<k.length;r+=1)k[r].d(1);k.length=P.length}},d(e){e&&u(n),x&&x.d(),e&&(u(v),u(m)),i(k,e)}}}function V(n){for(var t,r,a,c,o,p,g,_,v,m=n.players,y=[],$=0;$<m.length;$+=1)y[$]=D(z(n,m,$));function b(e){return e.players.length<6?G:F}var x=b(n),P=x(n),k=n.players,O=[];for($=0;$<k.length;$+=1)O[$]=J(T(n,k,$));var C=n.output.length>0&&K(n);return{c(){(t=f("h1")).textContent="Игроки",r=s();for(var e=0;e<y.length;e+=1)y[e].c();a=s(),P.c(),c=s();for(e=0;e<O.length;e+=1)O[e].c();o=s(),(p=f("button")).textContent="Запуск",g=s(),C&&C.c(),_=d(),v=h(p,"click",n.generate)},m(e,n){l(e,t,n),l(e,r,n);for(var u=0;u<y.length;u+=1)y[u].m(e,n);l(e,a,n),P.m(e,n),l(e,c,n);for(u=0;u<O.length;u+=1)O[u].m(e,n);l(e,o,n),l(e,p,n),l(e,g,n),C&&C.m(e,n),l(e,_,n)},p(e,n){if(e.players){m=n.players;for(var t=0;t<m.length;t+=1){const r=z(n,m,t);y[t]?y[t].p(e,r):(y[t]=D(r),y[t].c(),y[t].m(a.parentNode,a))}for(;t<y.length;t+=1)y[t].d(1);y.length=m.length}if(x===(x=b(n))&&P?P.p(e,n):(P.d(1),(P=x(n))&&(P.c(),P.m(c.parentNode,c))),e.players||e.races){k=n.players;for(t=0;t<k.length;t+=1){const r=T(n,k,t);O[t]?O[t].p(e,r):(O[t]=J(r),O[t].c(),O[t].m(o.parentNode,o))}for(;t<O.length;t+=1)O[t].d(1);O.length=k.length}n.output.length>0?C?C.p(e,n):((C=K(n)).c(),C.m(_.parentNode,_)):C&&(C.d(1),C=null)},i:e,o:e,d(e){e&&(u(t),u(r)),i(y,e),e&&u(a),P.d(e),e&&u(c),i(O,e),e&&(u(o),u(p),u(g)),C&&C.d(e),e&&u(_),v()}}}function W(e){return{name:e,bans:["","","","",""]}}function X(e){e=e.slice();for(let r=0;r<e.length-1;r++){let a=(n=r,t=e.length-1,Math.floor(Math.random()*(t+1-n))+n),c=e[r];e[r]=e[a],e[a]=c}var n,t;return e}function Y(e,n){for(var t=0;t<e.length;t++)if(n.includes(e[t]))return!0;return!1}function Z(e,n,t){let r=["Арбореки","Братство Инь","Баронат Летнев","Винну","Жол-Нарские Университеты","Клан Сааров","Клубок Наалу","Коалиция Ментака","Королевство Ззча","Некровирус","Племена Иссарилов","Призраки Креусса","Психосеть Л1З1КС","Сардак Н'Орр","Тлеющие с Муаата","Федерация Сол","Хаканские Эмираты"],a=["Максим","Кристина","Екатерина","Александр","Алексей","Сергей"].map(W),c=3,o=[];function l(e){t("players",a=a.slice(0,e).concat(a.slice(e+1,a.length)))}return{races:r,players:a,racesPerPlayer:c,output:o,deletePlayer:l,generate:function(){6==a.length&&t("racesPerPlayer",c=2);let e=X(a);!function e(n,t){let r=X(t);for(var a=0;a<n.length;a++){let o=n[a],l=r.slice(a*c,(a+1)*c);if(Y(l,o.bans)){e(n,t);break}o.raceOptions=l}}(a,r),t("output",o=e)},input_input_handler:function({player:e,each_value_5:n,index:c}){n[c].name=this.value,t("players",a),t("races",r)},click_handler:function({index:e}){return l(e)},input0_change_handler:function(){c=this.__value,t("racesPerPlayer",c)},input1_change_handler:function(){c=this.__value,t("racesPerPlayer",c)},select_change_handler:function({ban:e,each_value_3:n,index:c}){n[c]=function(e){const n=e.querySelector(":checked")||e.options[0];return n&&n.__value}(this),t("players",a),t("races",r)},$$binding_groups:[[]]}}return new class extends M{constructor(e){super(),A(this,e,Z,V,c,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
